<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asistente Docente PNFT ¬∑ MEP 2026 ¬∑ Profesional</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- SheetJS (para Excel) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <!-- FileSaver -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <!-- html2pdf -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        * { font-family: 'Poppins', sans-serif; margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary-teal: #09b7ae;
            --secondary-teal: #0bd2ce;
            --primary-dark: #014d6b;
            --secondary-dark: #0b6284;
            --primary-purple: #45258f;
            --primary-green: #9ed16f;
            --neutral-gray: #c9c9c9;
        }
        
        .saber-chip {
            user-select: none;
            cursor: pointer;
            transition: all 0.2s;
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            display: inline-block;
            margin: 0.25rem;
        }
        
        .saber-chip.selected {
            background: var(--primary-teal);
            color: white;
            border-color: var(--primary-dark);
        }
        
        .modal-overlay {
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(8px);
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 50;
        }
        
        .modal-content {
            background: white;
            border-radius: 1.5rem;
            max-width: 32rem;
            width: 90%;
            padding: 2rem;
            box-shadow: 0 25px 50px -12px black;
        }
        
        .tab-btn {
            transition: all 0.2s;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem 0.5rem 0 0;
            font-weight: 500;
        }
        
        .tab-btn.active {
            background: white;
            color: var(--primary-dark);
            font-weight: 600;
            border-bottom: 3px solid var(--primary-dark);
        }
        
        .horario-input {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 0.875rem;
        }
        
        .estudiante-row {
            display: grid;
            grid-template-columns: 2fr 2fr 1fr 2fr 1fr;
            gap: 0.5rem;
            padding: 0.5rem;
            border-bottom: 1px solid #e5e7eb;
            align-items: center;
        }
        
        .estudiante-row.header {
            font-weight: 600;
            background: #f3f4f6;
            border-radius: 0.5rem 0.5rem 0 0;
        }
        
        .rubrica-nivel {
            border: 1px solid #e5e7eb;
            padding: 0.75rem;
            border-radius: 0.5rem;
            background: #f9fafb;
        }
    </style>
</head>
<body class="bg-gray-50 p-4 md:p-8">
    <div class="max-w-7xl mx-auto">
        <!-- HEADER -->
        <div class="bg-white rounded-2xl shadow-lg p-6 mb-8">
            <h1 class="text-3xl font-bold text-[#014d6b]">Asistente Docente <span class="text-[#45258f]">PNFT</span></h1>
            <p class="text-sm text-gray-600">Programa Nacional de Formaci√≥n Tecnol√≥gica ¬∑ MEP 2026</p>
            <p class="text-xs text-[#09b7ae] mt-1">186 saberes ¬∑ DUA ¬∑ Reportes MEP ¬∑ Inclusi√≥n</p>
        </div>

        <!-- TABS -->
        <div class="flex flex-wrap gap-1 mb-6 border-b">
            <button id="tabPlanBtn" class="tab-btn bg-white text-[#014d6b] border-b-3 border-[#014d6b] font-semibold">üìÖ Planificador</button>
            <button id="tabDuaBtn" class="tab-btn bg-gray-100 text-gray-600">üåç Apoyos DUA</button>
            <button id="tabReportesBtn" class="tab-btn bg-gray-100 text-gray-600">üìä Reportes MEP</button>
            <button id="tabAdminBtn" class="tab-btn bg-gray-100 text-gray-600">‚öôÔ∏è Administraci√≥n</button>
        </div>

        <!-- ========== PESTA√ëA 1: PLANIFICADOR ========== -->
        <div id="tabPlan" class="tab-content">
            <!-- Selectores -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                <div class="bg-white p-4 rounded-xl shadow">
                    <label class="block text-sm font-medium mb-2">Ciclo</label>
                    <select id="cicloSelect" class="w-full p-3 border rounded-xl">
                        <option value="preescolar">Preescolar</option>
                        <option value="I">I Ciclo</option>
                        <option value="II">II Ciclo</option>
                        <option value="III">III Ciclo</option>
                    </select>
                </div>
                <div class="bg-white p-4 rounded-xl shadow">
                    <label class="block text-sm font-medium mb-2">Nivel</label>
                    <select id="nivelSelect" class="w-full p-3 border rounded-xl"></select>
                </div>
            </div>

            <!-- M√≥dulos -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-lg font-bold text-[#014d6b] mb-4">üìò M√≥dulo 1</h3>
                    <div id="modulo1Container" class="space-y-4 max-h-[500px] overflow-y-auto"></div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-lg font-bold text-[#0b6284] mb-4">üìó M√≥dulo 2</h3>
                    <div id="modulo2Container" class="space-y-4 max-h-[500px] overflow-y-auto"></div>
                </div>
            </div>

            <!-- Saberes seleccionados -->
            <div class="bg-[#014d6b] rounded-xl p-6 mb-8 text-white">
                <div class="flex flex-wrap items-center gap-4">
                    <span class="bg-white/20 px-4 py-2 rounded-full">Seleccionados: <span id="contadorSel">0</span>/2</span>
                    <div id="saberesSeleccionadosList" class="flex flex-wrap gap-2 flex-1"></div>
                    <button id="generarPromptBtn" class="bg-white text-[#014d6b] px-6 py-3 rounded-xl font-semibold hover:bg-gray-100 transition">
                        <i class="fas fa-wand-magic-sparkles mr-2"></i>Generar prompt
                    </button>
                    <button id="abrirModalJuegosBtn" class="bg-[#9ed16f] text-[#014d6b] px-6 py-3 rounded-xl font-semibold hover:bg-green-400 transition">
                        <i class="fas fa-gamepad mr-2"></i>Crear juego
                    </button>
                </div>
            </div>

            <!-- INDICADORES -->
            <div id="indicadoresContainer" class="bg-white rounded-xl shadow-lg p-6 mb-8 hidden">
                <h3 class="text-xl font-bold text-[#014d6b] mb-6">üìã Indicadores de logro y evaluaci√≥n</h3>
                <div id="indicadoresInner"></div>
            </div>

            <!-- PROMPT (EDITABLE) -->
            <div class="bg-gray-900 rounded-xl shadow-lg p-6 mb-8">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-gray-300 font-mono">ü§ñ Prompt (editable):</span>
                    <button id="copiarPrompt" class="bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition text-sm">
                        <i class="far fa-copy mr-2"></i>Copiar
                    </button>
                </div>
                <textarea id="promptSalida" rows="6" class="w-full bg-gray-800 text-gray-100 p-4 rounded-xl font-mono text-sm" placeholder="Selecciona saberes y haz clic en Generar prompt..."></textarea>
            </div>
        </div>

        <!-- ========== PESTA√ëA 2: APOYOS DUA ========== -->
        <div id="tabDua" class="tab-content hidden">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Panel de saberes seleccionados -->
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h2 class="text-xl font-bold text-[#014d6b] mb-4 flex items-center gap-2">
                        <i class="fas fa-universal-access text-[#45258f]"></i> Saberes seleccionados
                    </h2>
                    
                    <div id="duaSaberesContainer" class="space-y-4">
                        <!-- Se llena din√°micamente -->
                    </div>

                    <div class="flex gap-3 mt-6">
                        <button id="buscarYoutubeDua" class="flex-1 bg-red-600 hover:bg-red-700 text-white py-3 rounded-xl transition flex items-center justify-center gap-2">
                            <i class="fab fa-youtube"></i> Ver video
                        </button>
                        <button id="buscarGoogleDua" class="flex-1 bg-[#09b7ae] hover:bg-[#014d6b] text-white py-3 rounded-xl transition flex items-center justify-center gap-2">
                            <i class="fab fa-google"></i> Google Modo AI
                        </button>
                    </div>
                </div>

                <!-- Recomendaciones DUA basadas en el documento -->
                <div class="bg-gradient-to-br from-[#45258f] to-[#6b4ba3] rounded-xl shadow-lg p-6 text-white">
                    <h2 class="text-xl font-bold mb-4 flex items-center gap-2">
                        <i class="fas fa-hands-helping"></i> Recomendaciones DUA
                    </h2>
                    
                    <div id="duaRecomendaciones" class="space-y-4">
                        <p class="text-white/80">Selecciona saberes para ver recomendaciones personalizadas</p>
                    </div>

                    <div class="mt-6 grid grid-cols-2 gap-3">
                        <button class="bg-white/20 hover:bg-white/30 py-2 rounded-lg transition text-sm">üëÅÔ∏è Visual</button>
                        <button class="bg-white/20 hover:bg-white/30 py-2 rounded-lg transition text-sm">ü¶æ Motriz</button>
                        <button class="bg-white/20 hover:bg-white/30 py-2 rounded-lg transition text-sm">üß† Cognitiva</button>
                        <button class="bg-white/20 hover:bg-white/30 py-2 rounded-lg transition text-sm">ü¶ª Auditiva</button>
                    </div>
                </div>

                <!-- Recursos adicionales -->
                <div class="lg:col-span-2 bg-white rounded-xl shadow-lg p-6">
                    <h3 class="font-bold text-[#014d6b] mb-4">üìö Recursos de inclusi√≥n (basado en "15 juegos por la inclusi√≥n")</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-blue-50 p-4 rounded-xl">
                            <h4 class="font-semibold mb-2">Juego 1: Derechos en movimiento</h4>
                            <p class="text-sm">Reflexionar sobre la importancia de hacer valer los derechos</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-xl">
                            <h4 class="font-semibold mb-2">Juego 6: BASTA a la discriminaci√≥n</h4>
                            <p class="text-sm">Acciones para combatir la discriminaci√≥n en el aula</p>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-xl">
                            <h4 class="font-semibold mb-2">Juego 15: Los retos de la empat√≠a</h4>
                            <p class="text-sm">Ponerse en los zapatos del otro, actividades pr√°cticas</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== PESTA√ëA 3: REPORTES MEP ========== -->
        <div id="tabReportes" class="tab-content hidden">
            <!-- Horarios por secci√≥n (7:00 a 17:40) -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <h2 class="text-xl font-bold text-[#014d6b] mb-4 flex items-center gap-2">
                    <i class="fas fa-clock"></i> Horarios por secci√≥n (7:00 - 17:40)
                </h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-medium mb-2">Secci√≥n</label>
                        <select id="seccionSelect" class="w-full p-3 border rounded-xl">
                            <option>9-1</option>
                            <option>9-2</option>
                            <option>8-1</option>
                            <option>8-2</option>
                            <option>7-1</option>
                            <option>7-2</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Semana del</label>
                        <input type="date" id="semanaFecha" class="w-full p-3 border rounded-xl" value="2026-02-20">
                    </div>
                </div>

                <!-- Tabla de horarios -->
                <div class="overflow-x-auto">
                    <table class="w-full border-collapse">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="p-3 text-left">Hora</th>
                                <th class="p-3 text-left">Lunes</th>
                                <th class="p-3 text-left">Martes</th>
                                <th class="p-3 text-left">Mi√©rcoles</th>
                                <th class="p-3 text-left">Jueves</th>
                                <th class="p-3 text-left">Viernes</th>
                            </tr>
                        </thead>
                        <tbody id="horariosBody">
                            <!-- Se llena din√°micamente con JS -->
                        </tbody>
                    </table>
                </div>
                <button id="guardarHorario" class="mt-4 bg-[#014d6b] text-white px-6 py-2 rounded-lg hover:bg-[#0b6284] transition">
                    <i class="fas fa-save mr-2"></i>Guardar horario
                </button>
            </div>

            <!-- Lista de estudiantes (carga Excel) -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <h2 class="text-xl font-bold text-[#014d6b] mb-4 flex items-center gap-2">
                    <i class="fas fa-users"></i> Lista de estudiantes
                </h2>

                <div class="flex items-center gap-4 mb-4">
                    <input type="file" id="excelFile" accept=".xlsx, .xls, .csv" class="flex-1 p-2 border rounded-lg">
                    <button id="cargarExcel" class="bg-[#09b7ae] text-white px-6 py-2 rounded-lg hover:bg-[#014d6b] transition">
                        <i class="fas fa-upload mr-2"></i>Cargar
                    </button>
                    <button id="descargarPlantilla" class="bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition">
                        <i class="fas fa-download mr-2"></i>Plantilla
                    </button>
                </div>

                <div id="estudiantesLista" class="max-h-60 overflow-y-auto border rounded-xl">
                    <div class="estudiante-row header">
                        <span>Apellidos</span>
                        <span>Nombre</span>
                        <span>Secci√≥n</span>
                        <span>Adecuaci√≥n</span>
                        <span>Acciones</span>
                    </div>
                    <div id="estudiantesBody">
                        <!-- Datos cargados din√°micamente -->
                    </div>
                </div>
            </div>

            <!-- Generador de instrumentos (basado en saberes seleccionados) -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <h2 class="text-xl font-bold text-[#014d6b] mb-4">üìù Generador de instrumentos</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <button id="generarRubrica" class="bg-[#014d6b] text-white py-3 rounded-xl hover:bg-[#0b6284] transition">
                        <i class="fas fa-table mr-2"></i>R√∫brica anal√≠tica
                    </button>
                    <button id="generarCotejo" class="bg-[#09b7ae] text-white py-3 rounded-xl hover:bg-[#014d6b] transition">
                        <i class="fas fa-check-square mr-2"></i>Lista de cotejo
                    </button>
                    <button id="generarEscala" class="bg-[#45258f] text-white py-3 rounded-xl hover:bg-[#5a3aa8] transition">
                        <i class="fas fa-star mr-2"></i>Escala de desempe√±o
                    </button>
                </div>

                <!-- Vista previa del instrumento generado -->
                <div id="instrumentoVistaPrevia" class="bg-gray-50 p-4 rounded-xl hidden">
                    <h3 class="font-bold text-[#014d6b] mb-3" id="instrumentoTitulo"></h3>
                    <div id="instrumentoContenido"></div>
                </div>
            </div>

            <!-- Bit√°cora de clase (formato MEP) -->
            <div class="bg-white rounded-xl shadow-lg p-6">
                <h2 class="text-xl font-bold text-[#014d6b] mb-4 flex items-center gap-2">
                    <i class="fas fa-book-open"></i> Bit√°cora de clase
                </h2>

                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-medium mb-2">Fecha</label>
                        <input type="date" id="bitacoraFecha" class="w-full p-3 border rounded-xl" value="2026-02-20">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Secci√≥n</label>
                        <select id="bitacoraSeccion" class="w-full p-3 border rounded-xl">
                            <option>9-1</option>
                            <option>9-2</option>
                            <option>8-1</option>
                            <option>8-2</option>
                            <option>7-1</option>
                            <option>7-2</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Asignatura</label>
                        <input type="text" id="bitacoraAsignatura" class="w-full p-3 border rounded-xl" value="Formaci√≥n Tecnol√≥gica">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">N¬∞ sesi√≥n</label>
                        <input type="text" id="bitacoraSesion" class="w-full p-3 border rounded-xl" placeholder="Ej: 12">
                    </div>
                </div>

                <div class="mb-4">
                    <label class="block text-sm font-medium mb-2">Tema / Objetivo de la clase</label>
                    <input type="text" id="bitacoraTema" class="w-full p-3 border rounded-xl" placeholder="Ej: Introducci√≥n al hardware">
                </div>

                <div class="mb-4">
                    <label class="block text-sm font-medium mb-2">Actividades realizadas</label>
                    <textarea id="bitacoraActividades" rows="3" class="w-full p-3 border rounded-xl" placeholder="Describe las actividades..."></textarea>
                </div>

                <div class="mb-4">
                    <label class="block text-sm font-medium mb-2">Recursos utilizados</label>
                    <input type="text" id="bitacoraRecursos" class="w-full p-3 border rounded-xl" placeholder="Ej: computadoras, gu√≠as, videos">
                </div>

                <div class="mb-4">
                    <label class="block text-sm font-medium mb-2">Indicadores de logro trabajados</label>
                    <textarea id="bitacoraIndicadores" rows="2" class="w-full p-3 border rounded-xl" placeholder="Indicadores del d√≠a..."></textarea>
                </div>

                <div class="mb-4">
                    <label class="block text-sm font-medium mb-2">Observaciones / Adecuaciones</label>
                    <textarea id="bitacoraObservaciones" rows="2" class="w-full p-3 border rounded-xl" placeholder="Estudiantes con adecuaci√≥n, observaciones..."></textarea>
                </div>

                <div class="mb-4">
                    <label class="block text-sm font-medium mb-2">Firma del docente</label>
                    <input type="text" id="bitacoraFirma" class="w-full p-3 border rounded-xl" placeholder="Nombre y firma">
                </div>

                <div class="flex gap-3">
                    <button id="guardarBitacoraClase" class="bg-[#014d6b] text-white px-6 py-3 rounded-lg hover:bg-[#0b6284] transition flex items-center gap-2">
                        <i class="fas fa-save"></i> Guardar en bit√°cora
                    </button>
                    <button id="exportarBitacoraWord" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition flex items-center gap-2">
                        <i class="fas fa-file-word"></i> Exportar Word
                    </button>
                    <button id="exportarBitacoraPDF" class="bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition flex items-center gap-2">
                        <i class="fas fa-file-pdf"></i> Exportar PDF
                    </button>
                </div>

                <!-- Bit√°coras guardadas -->
                <div class="mt-6">
                    <h3 class="font-semibold mb-3">üìã Entradas recientes</h3>
                    <div id="bitacoraEntradas" class="space-y-3 max-h-60 overflow-y-auto">
                        <!-- Se llena din√°micamente -->
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== PESTA√ëA 4: ADMINISTRACI√ìN ========== -->
        <div id="tabAdmin" class="tab-content hidden">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h2 class="text-xl font-bold text-[#014d6b] mb-4">üìú Historial de b√∫squedas</h2>
                    <ul id="recentList" class="space-y-2 text-sm max-h-60 overflow-y-auto"></ul>
                    <button id="clearRecentBtn" class="mt-4 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition">
                        <i class="fas fa-trash-alt mr-2"></i>Limpiar
                    </button>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h2 class="text-xl font-bold text-[#014d6b] mb-4">üìä Estad√≠sticas</h2>
                    <div class="space-y-3">
                        <div class="flex justify-between"><span>Saberes totales:</span><span class="font-bold" id="statSaberes">186</span></div>
                        <div class="flex justify-between"><span>Consultas realizadas:</span><span class="font-bold" id="statConsultas">0</span></div>
                        <div class="flex justify-between"><span>√öltima visita:</span><span class="font-bold" id="ultimaVisita">-</span></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MODAL DE JUEGOS (9 herramientas) -->
        <div id="juegosModal" class="modal-overlay">
            <div class="modal-content">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-[#014d6b]">üéÆ Crear juego con IA</h3>
                    <button id="cerrarJuegosModal" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
                </div>
                
                <p class="text-sm text-gray-600 mb-4">Saberes: <span id="modalJuegosSaberes" class="font-bold text-[#09b7ae]"></span></p>

                <div class="grid grid-cols-3 gap-3">
                    <div class="herramienta-card border rounded-xl p-3 text-center cursor-pointer hover:shadow-lg transition" data-url="https://copilot.microsoft.com">
                        <i class="fab fa-microsoft text-blue-600 text-2xl mb-1"></i>
                        <p class="text-xs font-semibold">Copilot</p>
                    </div>
                    <div class="herramienta-card border rounded-xl p-3 text-center cursor-pointer hover:shadow-lg transition" data-url="https://chat.openai.com">
                        <i class="fas fa-comment-dots text-green-600 text-2xl mb-1"></i>
                        <p class="text-xs font-semibold">ChatGPT</p>
                    </div>
                    <div class="herramienta-card border rounded-xl p-3 text-center cursor-pointer hover:shadow-lg transition" data-url="https://wayground.com">
                        <i class="fas fa-globe text-purple-600 text-2xl mb-1"></i>
                        <p class="text-xs font-semibold">Wayground</p>
                    </div>
                    <div class="herramienta-card border rounded-xl p-3 text-center cursor-pointer hover:shadow-lg transition" data-url="https://genially.com">
                        <i class="fas fa-presentation text-pink-600 text-2xl mb-1"></i>
                        <p class="text-xs font-semibold">Genially</p>
                    </div>
                    <div class="herramienta-card border rounded-xl p-3 text-center cursor-pointer hover:shadow-lg transition" data-url="https://educaplay.com">
                        <i class="fas fa-puzzle-piece text-[#09b7ae] text-2xl mb-1"></i>
                        <p class="text-xs font-semibold">Educaplay</p>
                    </div>
                    <div class="herramienta-card border rounded-xl p-3 text-center cursor-pointer hover:shadow-lg transition" data-url="https://scratch.mit.edu">
                        <i class="fab fa-scratch text-orange-600 text-2xl mb-1"></i>
                        <p class="text-xs font-semibold">Scratch</p>
                    </div>
                    <div class="herramienta-card border rounded-xl p-3 text-center cursor-pointer hover:shadow-lg transition" data-url="https://quizizz.com">
                        <i class="fas fa-question-circle text-purple-600 text-2xl mb-1"></i>
                        <p class="text-xs font-semibold">Quizizz</p>
                    </div>
                    <div class="herramienta-card border rounded-xl p-3 text-center cursor-pointer hover:shadow-lg transition" data-url="https://kahoot.com">
                        <i class="fas fa-gamepad text-red-600 text-2xl mb-1"></i>
                        <p class="text-xs font-semibold">Kahoot</p>
                    </div>
                    <div class="herramienta-card border rounded-xl p-3 text-center cursor-pointer hover:shadow-lg transition" data-url="https://blooket.com">
                        <i class="fas fa-dragon text-green-600 text-2xl mb-1"></i>
                        <p class="text-xs font-semibold">Blooket</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- MODAL DE CONFIRMACI√ìN GOOGLE -->
        <div id="googleModal" class="modal-overlay">
            <div class="modal-content">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-[#014d6b]">üîç Google Modo AI</h3>
                    <button id="cerrarGoogleModal" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
                </div>
                
                <div class="bg-blue-50 p-4 rounded-xl mb-4">
                    <p class="text-sm font-medium mb-2">Tu b√∫squeda:</p>
                    <p id="googleBusquedaTexto" class="text-lg font-semibold text-[#014d6b]"></p>
                </div>

                <a id="googleLink" href="#" target="_blank" class="block w-full bg-[#09b7ae] hover:bg-[#014d6b] text-white text-center py-3 rounded-xl transition">
                    Continuar a Google
                </a>
            </div>
        </div>
    </div>

    <script>
        // ========== BASE DE DATOS COMPLETA DEL PNFT (186 SABERES CON INDICADORES) ==========
        const saberesDB = {
            // ========== PREESCOLAR (Materno Infantil y Transici√≥n) ==========
            preescolar: {
                modulo1: {
                    apropiacion: [
                        { 
                            saber: "Computadora",
                            indicador: "Identifica qu√© es una **computadora** y algunas de sus caracter√≠sticas, a partir de experiencias pr√°cticas de interacci√≥n con dispositivos digitales."
                        },
                        { 
                            saber: "Software",
                            indicador: "Reconoce elementos visuales b√°sicos de la interfaz de **software** (iconos, botones, ventanas), interactuando con ellos mediante el uso guiado de dispositivos digitales."
                        },
                        { 
                            saber: "Herramientas de creaci√≥n de contenido multimedia",
                            indicador: "Reconoce las **herramientas de creaci√≥n de contenido multimedia** seg√∫n su utilidad: editor gr√°fico, grabadora de audio y video, en la creaci√≥n de recursos digitales."
                        },
                        { 
                            saber: "Hardware (√≥ptimo)",
                            indicador: "Reconoce componentes b√°sicos del **hardware**, como dispositivos de entrada y salida de datos, explorando su funci√≥n al encender, usar o interactuar con la computadora en actividades cotidianas."
                        },
                        { 
                            saber: "Internet (√≥ptimo)",
                            indicador: "Reconoce qu√© es **Internet** y los requerimientos de un dispositivo para conectarse a Internet, realizando una exploraci√≥n dirigida."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Entornos de programaci√≥n iconogr√°fico",
                            indicador: "Reconoce el **entorno de programaci√≥n iconogr√°fico**, interactuando con bloques de la interfaz, como desplazamiento, apariencia o sonido, mediante el uso guiado del docente."
                        },
                        {
                            saber: "Lateralidad y orientaci√≥n espacial",
                            indicador: "Reconoce los conceptos de **lateralidad y orientaci√≥n espacial** en la construcci√≥n de secuencias de acciones para la soluci√≥n de retos de programaci√≥n."
                        },
                        {
                            saber: "Evento",
                            indicador: "Reconoce que un **evento** desencadena una acci√≥n, identificando la relaci√≥n de causa y efecto en juegos o actividades."
                        }
                    ],
                    computacion: [],
                    ciencia: []
                },
                modulo2: {
                    apropiacion: [
                        {
                            saber: "Conexi√≥n entre dispositivos (bluetooth)",
                            indicador: "Reconoce la **conexi√≥n entre dispositivos** por bluetooth y los requerimientos de dispositivos digitales para conectarse, a trav√©s de una exploraci√≥n dirigida."
                        },
                        {
                            saber: "Conexi√≥n entre dispositivos (wifi - √≥ptimo)",
                            indicador: "Reconoce formas de **conexi√≥n entre dispositivos** por bluetooth y wifi, as√≠ como los requerimientos de dispositivos digitales para conectarse, a trav√©s de una exploraci√≥n dirigida."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Estado",
                            indicador: "Reconoce el concepto de **estado** programando objetos que modifican las propiedades de orientaci√≥n y/o direcci√≥n."
                        },
                        {
                            saber: "Algoritmo",
                            indicador: "Reconoce el concepto de **algoritmo** mediante secuencias de acciones l√≥gicas y ordenadas, en la construcci√≥n de soluciones a desaf√≠os propuestos."
                        },
                        {
                            saber: "Dato (programaci√≥n)",
                            indicador: "Reconoce la importancia del **dato** en contexto f√≠sico y en contexto digital mientras soluciona desaf√≠os propuestos."
                        },
                        {
                            saber: "Estructuras repetitivas (ciclo finito/infinito)",
                            indicador: "Reconoce **estructuras repetitivas** en secuencias de acciones durante la programaci√≥n guiada de objetos digitales, distinguiendo si una acci√≥n se repite un n√∫mero limitado o ilimitado de veces."
                        }
                    ],
                    computacion: [
                        {
                            saber: "Robot",
                            indicador: "Reconoce qu√© es un **robot**, sus componentes y algunos de sus usos, mediante actividades l√∫dicas de exploraci√≥n o programaci√≥n guiada."
                        },
                        {
                            saber: "Componentes del robot (cuerpo, sistema sensorial, control)",
                            indicador: "Identifica diferentes partes de un robot, como cuerpo, sistema sensorial y control, mediante actividades l√∫dicas de exploraci√≥n."
                        },
                        {
                            saber: "Clasificaci√≥n de robots por su uso",
                            indicador: "Identifica los robots seg√∫n su uso, clasific√°ndolos en actividades cotidianas."
                        }
                    ],
                    ciencia: [
                        {
                            saber: "Dato (ciencias de datos - texto, imagen, sonido, video)",
                            indicador: "Identifica el **dato** y su importancia en situaciones cotidianas, reconociendo diferentes tipos como texto, imagen, sonido o video."
                        },
                        {
                            saber: "Estrategias para presentar datos (gr√°ficos pict√≥ricos)",
                            indicador: "Reconoce gr√°ficos pict√≥ricos como **estrategia para representar datos** recolectados en actividades l√∫dicas."
                        },
                        {
                            saber: "Visualizaci√≥n de datos (√≥ptimo)",
                            indicador: "Interpreta gr√°ficos pict√≥ricos como parte de la **visualizaci√≥n de datos** (colores, formas, cantidades), con apoyo del docente, relacion√°ndolos con datos conocidos del entorno."
                        },
                        {
                            saber: "Realidad aumentada (√≥ptimo)",
                            indicador: "Experimenta con **realidad aumentada** en entornos f√≠sicos mediante actividades sensoriales y l√∫dicas, con acompa√±amiento del docente."
                        }
                    ]
                }
            },

            // ========== I CICLO (Primero, Segundo, Tercero) ==========
            I: {
                modulo1: {
                    apropiacion: [
                        {
                            saber: "Computadora",
                            indicador: "Reconoce la **computadora** como una herramienta tecnol√≥gica, identificando sus caracter√≠sticas b√°sicas, funciones e importancia en la vida cotidiana, por medio de la observaci√≥n y manipulaci√≥n pr√°ctica."
                        },
                        {
                            saber: "Hardware (entrada, procesamiento, almacenamiento, salida)",
                            indicador: "Identifica el **hardware** b√°sico de una computadora, reconociendo dispositivos de entrada, salida y las acciones de encendido y apagado, mediante actividades pr√°cticas guiadas."
                        },
                        {
                            saber: "Software",
                            indicador: "Identifica el **software** de una computadora, reconociendo los elementos b√°sicos de la interfaz de usuario mediante actividades pr√°cticas guiadas."
                        },
                        {
                            saber: "Herramientas de productividad (procesador de texto)",
                            indicador: "Utiliza **herramientas de productividad** como el procesador de texto, reconociendo la cinta de opciones, pesta√±as y comandos b√°sicos, as√≠ como sus funciones por teclado, durante la creaci√≥n de textos sencillos."
                        },
                        {
                            saber: "Herramientas de creaci√≥n multimedia (audio, imagen)",
                            indicador: "Utiliza **herramientas de creaci√≥n de contenido multimedia**, como la grabadora de audio y editores de gr√°ficos, aplicando funciones b√°sicas como crear, editar y guardar archivos, durante actividades guiadas de producci√≥n digital en el aula."
                        },
                        {
                            saber: "Conexi√≥n entre dispositivos (bluetooth)",
                            indicador: "Reconoce el bluetooth como medio de **conexi√≥n entre dispositivos** utilizando dispositivos digitales en el aula."
                        },
                        {
                            saber: "Internet",
                            indicador: "Reconoce los dispositivos y programas que permiten la conexi√≥n para la navegaci√≥n en **Internet**."
                        },
                        {
                            saber: "Redes de comunicaci√≥n",
                            indicador: "Describe qu√© son las **redes de comunicaci√≥n** y c√≥mo funciona una red local, a partir de la observaci√≥n y la pr√°ctica de intercambio de informaci√≥n entre dispositivos conectados en el aula."
                        },
                        {
                            saber: "Gesti√≥n de archivos",
                            indicador: "Reconoce la **gesti√≥n de archivos** como proceso para la organizaci√≥n y clasificaci√≥n de la informaci√≥n, mediante el uso de carpetas, subcarpetas y la exploraci√≥n de archivos digitales."
                        },
                        {
                            saber: "Herramienta de productividad (editor de presentaciones)",
                            indicador: "Utiliza **herramientas de productividad**, como el editor de presentaciones, empleando la cinta de opciones, pesta√±as, comandos b√°sicos y sus funciones por teclado en la elaboraci√≥n de presentaciones digitales."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Entornos de programaci√≥n iconogr√°fico",
                            indicador: "Reconoce elementos b√°sicos de un **entorno de programaci√≥n iconogr√°fico**, como bloques de desplazamiento, orientaci√≥n, apariencia, sonido, eventos y control, mediante la navegaci√≥n en la interfaz con actividades guiadas."
                        },
                        {
                            saber: "Entorno de programaci√≥n por bloques",
                            indicador: "Aplica el uso del **entorno de programaci√≥n por bloques**, explorando la interfaz y el √°rea de bloques mientras construye secuencias de acciones que representen historias cotidianas."
                        },
                        {
                            saber: "Reconocimiento de patrones",
                            indicador: "**Reconoce patrones** de movimiento en secuencias de instrucciones simples para que un personaje siga una ruta desde un punto de inicio hasta un punto de llegada."
                        },
                        {
                            saber: "Estado",
                            indicador: "Reconoce el **estado** de un objeto digital en relaci√≥n con su orientaci√≥n, direcci√≥n y tama√±o, identificando variaciones en dichos atributos, mediante secuencias de programaciones simples."
                        },
                        {
                            saber: "Algoritmo",
                            indicador: "Identifica un **algoritmo** en situaciones de la vida diaria, reconociendo secuencias l√≥gicas y ordenadas de acciones, para ser representadas de forma anal√≥gica (dibujos, tarjetas, gestos) y/o digital (entorno iconogr√°fico)."
                        },
                        {
                            saber: "Evento",
                            indicador: "Reconoce el **evento** como relaci√≥n de causa y efecto al participar en juegos anal√≥gicos, identificando c√≥mo una acci√≥n provoca una respuesta o cambio observable durante la din√°mica."
                        },
                        {
                            saber: "Dato",
                            indicador: "Identifica el **dato** en situaciones de la vida diaria, reconociendo informaci√≥n valiosa en contextos f√≠sicos (como etiquetas, se√±ales, objetos) y digitales (como im√°genes, √≠conos o pantallas interactivas)."
                        },
                        {
                            saber: "Variable",
                            indicador: "Identifica una **variable** en contextos de la vida cotidiana, observando elementos que cambian en relaci√≥n con otros (como edad, cantidad, clima o tiempo de actividad)."
                        },
                        {
                            saber: "Estructuras repetitivas",
                            indicador: "Reconoce **estructuras repetitivas** al identificar ciclos finitos (como una canci√≥n o rutina) e infinitos (como el tic-tac del reloj o el movimiento del ventilador) en situaciones de la vida diaria."
                        },
                        {
                            saber: "Operadores aritm√©ticos",
                            indicador: "Reconoce los **operadores aritm√©ticos** de suma y resta en situaciones de la vida cotidiana y su uso en un entorno de programaci√≥n por bloques."
                        },
                        {
                            saber: "Operador relacional",
                            indicador: "Reconoce el **operador relacional** 'igual que' en situaciones de la vida cotidiana y su uso en un entorno de programaci√≥n por bloques."
                        }
                    ],
                    computacion: [],
                    ciencia: []
                },
                modulo2: {
                    apropiacion: [
                        {
                            saber: "Herramientas de creaci√≥n multimedia (audio, imagen)",
                            indicador: "Utiliza **herramientas de creaci√≥n de contenido multimedia** para la creaci√≥n de audios e im√°genes durante actividades guiadas de producci√≥n digital en el aula."
                        },
                        {
                            saber: "Conexi√≥n entre dispositivos (bluetooth)",
                            indicador: "Reconoce el bluetooth como medio de **conexi√≥n entre dispositivos** utilizando dispositivos digitales en el aula."
                        },
                        {
                            saber: "Internet",
                            indicador: "Aplica normas b√°sicas de navegaci√≥n por **internet**, para acceder a p√°ginas educativas seguras, bajo acompa√±amiento del docente."
                        },
                        {
                            saber: "Navegador",
                            indicador: "Identifica el **navegador** como una herramienta digital, reconociendo sus partes y usos en actividades de exploraci√≥n guiada por el docente."
                        },
                        {
                            saber: "Buscador",
                            indicador: "Identifica el **buscador** como una herramienta digital para acceder a informaci√≥n, distinguiendo sitios confiables y no confiables durante la exploraci√≥n dirigida en buscadores infantiles."
                        },
                        {
                            saber: "Netiqueta",
                            indicador: "Identifica normas b√°sicas de **netiqueta** que deben seguir al participar en diferentes procesos de comunicaci√≥n."
                        },
                        {
                            saber: "Comunicaci√≥n y colaboraci√≥n sincr√≥nica/asincr√≥nica",
                            indicador: "Identifica el correo electr√≥nico como una herramienta de **comunicaci√≥n asincr√≥nica**, reconociendo sus caracter√≠sticas y su uso en actividades digitales guiadas."
                        },
                        {
                            saber: "Huella digital",
                            indicador: "Reconoce qu√© es la **huella digital** y c√≥mo puede afectar su privacidad y seguridad en l√≠nea, identificando que sus acciones en Internet dejan rastros que deben cuidarse."
                        },
                        {
                            saber: "Software malicioso",
                            indicador: "Reconoce el virus inform√°tico como un tipo de **software malicioso**, explicando de forma sencilla sus consecuencias, como p√©rdida de informaci√≥n o mal funcionamiento en los dispositivos."
                        },
                        {
                            saber: "Riesgo en l√≠nea",
                            indicador: "Reconoce algunos **riesgos en l√≠nea** como los perfiles falsos, la p√©rdida de privacidad, el contacto con extra√±os y la adicci√≥n al uso de dispositivos, identificando medidas b√°sicas para protegerse."
                        },
                        {
                            saber: "Medidas de seguridad web",
                            indicador: "Reconoce el control parental como una **medida de seguridad web** en el uso de Internet que protege frente a riesgos y limita el acceso a contenido inapropiado."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Estructuras repetitivas",
                            indicador: "Identifica **estructuras repetitivas** en actividades programadas, diferenciando entre ciclos finitos e infinitos seg√∫n la cantidad de repeticiones requeridas."
                        },
                        {
                            saber: "Estructuras condicionales (simples)",
                            indicador: "Aplica **estructuras condicionales** simples en un entorno de programaci√≥n por bloques en la resoluci√≥n de un ejercicio programado."
                        },
                        {
                            saber: "Operadores aritm√©ticos",
                            indicador: "Reconoce los **operadores aritm√©ticos** de suma y resta en situaciones de la vida cotidiana y su uso en un entorno de programaci√≥n por bloques."
                        },
                        {
                            saber: "Operador relacional ('igual que')",
                            indicador: "Reconoce el **operador relacional** 'igual que' en situaciones de la vida cotidiana y su uso en un entorno de programaci√≥n por bloques."
                        }
                    ],
                    computacion: [],
                    ciencia: [
                        {
                            saber: "Fundamentos de la IA",
                            indicador: "Reconoce los **fundamentos de la inteligencia artificial** a trav√©s de objetos o situaciones del entorno donde esta tecnolog√≠a est√° presente, mediante actividades guiadas con apoyo visual o audiovisual."
                        },
                        {
                            saber: "Asistentes virtuales",
                            indicador: "Reconoce qu√© es un **asistente virtual** y sus funciones a partir de demostraciones guiadas o videos educativos."
                        },
                        {
                            saber: "Desaf√≠os de la IA",
                            indicador: "Identifica los **desaf√≠os de la inteligencia artificial** en la vida cotidiana y algunas recomendaciones para su uso seguro y responsable, con la ayuda de ejemplos guiados."
                        }
                    ]
                }
            },

            // ========== II CICLO (Cuarto, Quinto, Sexto) ==========
            II: {
                modulo1: {
                    apropiacion: [
                        {
                            saber: "Hardware (dispositivos computacionales y perif√©ricos)",
                            indicador: "Clasifica componentes de **hardware** seg√∫n su funci√≥n, distinguiendo entre dispositivos computacionales (computadoras de escritorio, port√°tiles, tel√©fonos inteligentes, tabletas) y perif√©ricos (parlantes, micr√≥fonos, aud√≠fonos, impresora, c√°mara, dispositivos de almacenamiento local), en funci√≥n de su uso en contextos cotidianos."
                        },
                        {
                            saber: "Software (sistema, aplicaci√≥n, utilitarios)",
                            indicador: "Reconoce el **software** identificando sus tipos (de sistema, de aplicaci√≥n y utilitarios), valorando su funci√≥n en el uso cotidiano de dispositivos tecnol√≥gicos."
                        },
                        {
                            saber: "Redes de comunicaci√≥n (red local)",
                            indicador: "Reconoce las **redes de comunicaci√≥n** identificando la funcionalidad y aplicaci√≥n de una red local en el intercambio de informaci√≥n entre dispositivos en contextos escolares y/o del hogar."
                        },
                        {
                            saber: "Conexi√≥n entre dispositivos (f√≠sica/inal√°mbrica)",
                            indicador: "Reconoce la **conexi√≥n entre dispositivos** identificando si es f√≠sica (cableada) o inal√°mbrica (bluetooth, wifi), seg√∫n el uso en su entorno cercano."
                        },
                        {
                            saber: "Gesti√≥n de archivos (crear, mover, copiar, renombrar, eliminar)",
                            indicador: "Organiza archivos y carpetas, aplicando acciones b√°sicas como crear, mover, copiar, renombrar y eliminar, en un entorno de sistema operativo para la **gesti√≥n de archivos**."
                        },
                        {
                            saber: "Herramienta de productividad (procesador de texto, editor presentaciones)",
                            indicador: "Utiliza **herramientas de productividad**, como el procesador de texto y/o editor de presentaciones, en la creaci√≥n de contenidos que incluyan texto, im√°genes y formatos b√°sicos, en funci√≥n de una consigna dada."
                        },
                        {
                            saber: "Sistema operativo",
                            indicador: "Identifica la funcionalidad del escritorio en un **sistema operativo**, reconociendo los elementos b√°sicos de la barra de tareas como altavoces, auriculares, estado de la bater√≠a y control de audio, durante el uso cotidiano."
                        },
                        {
                            saber: "Herramientas de creaci√≥n multimedia (audio, video, editor gr√°fico)",
                            indicador: "Aplica **herramientas de creaci√≥n de contenido multimedia**, como el editor gr√°fico, utilizando funciones b√°sicas de creaci√≥n, edici√≥n y guardado de im√°genes en la elaboraci√≥n de productos digitales."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Entorno de programaci√≥n por bloques",
                            indicador: "Utiliza el **entorno de programaci√≥n** **por bloques**, explorando la interfaz y organizando bloques en el √°rea de programaci√≥n en la resoluci√≥n de retos programados."
                        },
                        {
                            saber: "Estado",
                            indicador: "Identifica el concepto de **estado**, reconociendo cambios en las propiedades de orientaci√≥n, direcci√≥n y tama√±o de objetos en la creaci√≥n de un producto programado."
                        },
                        {
                            saber: "Algoritmo (pseudoc√≥digo)",
                            indicador: "Hace uso de **algoritmos** en pseudoc√≥digo utilizando instrucciones de forma l√≥gica y estructurada en la soluci√≥n de un producto programado."
                        },
                        {
                            saber: "Dato (num√©rico, texto)",
                            indicador: "Organiza **datos** tipo num√©rico y de texto, reconociendo su uso en situaciones cotidianas."
                        },
                        {
                            saber: "Variable",
                            indicador: "Gestiona una **variable** en la resoluci√≥n de ejercicios a trav√©s de algoritmos o actividades programadas."
                        },
                        {
                            saber: "Estructuras repetitivas",
                            indicador: "Utiliza **estructuras repetitivas** en pseudoc√≥digo o programaci√≥n por bloques, resolviendo ejercicios que requieran repeticiones controladas."
                        },
                        {
                            saber: "Eventos",
                            indicador: "Utiliza **eventos** en pseudoc√≥digo o programaci√≥n para el control de acciones y reacciones de objetos dentro de un programa, comprendiendo su relaci√≥n de causa y efecto."
                        },
                        {
                            saber: "Estructuras condicionales (simples y compuestas)",
                            indicador: "Utiliza **estructuras condicionales** simples y compuestas en pseudoc√≥digo o programaci√≥n, en la ejecuci√≥n de instrucciones cuando se cumple una condici√≥n espec√≠fica."
                        },
                        {
                            saber: "Operadores aritm√©ticos",
                            indicador: "Utiliza **operadores aritm√©ticos** de suma, resta, multiplicaci√≥n y divisi√≥n en pseudoc√≥digo o programaci√≥n, resolviendo ejercicios que involucren c√°lculos autom√°ticos."
                        },
                        {
                            saber: "Operadores relacionales",
                            indicador: "Utiliza **operadores relacionales** en pseudoc√≥digo o programaci√≥n, comparando valores en la toma de decisiones dentro del programa."
                        }
                    ],
                    computacion: [
                        {
                            saber: "Computaci√≥n f√≠sica",
                            indicador: "Reconoce los componentes b√°sicos de la **computaci√≥n f√≠sica**, como el microcontrolador, sensores, actuadores y el entorno de programaci√≥n, relacion√°ndolos con sus usos y aplicaciones en contextos cotidianos."
                        },
                        {
                            saber: "Circuito el√©ctrico",
                            indicador: "Identifica componentes b√°sicos de un **circuito el√©ctrico**, reconociendo su tipo, el flujo de corriente, la polaridad y la funci√≥n del interruptor durante la construcci√≥n o simulaci√≥n de prototipos."
                        },
                        {
                            saber: "Fundamentos de electr√≥nica (pines entrada/salida, se√±al anal√≥gica/digital)",
                            indicador: "Identifica **fundamentos de electr√≥nica**, reconociendo la funci√≥n de los pines de entrada y salida, as√≠ como la diferencia entre se√±ales anal√≥gicas y digitales durante la construcci√≥n o simulaci√≥n de circuitos."
                        },
                        {
                            saber: "Microcontrolador",
                            indicador: "Reconoce el funcionamiento b√°sico de un **microcontrolador**, identificando los pines digitales y anal√≥gicos, la placa de expansi√≥n y la comunicaci√≥n entre el programa y la tarjeta a trav√©s de actividades pr√°cticas o simuladas."
                        }
                    ],
                    ciencia: [
                        {
                            saber: "Herramientas generativas",
                            indicador: "Reconoce **herramientas digitales generativas** (texto, imagen o audio) que producen contenido a partir de instrucciones sencillas, identificando su aplicaci√≥n en actividades cotidianas de forma √©tica y segura."
                        },
                        {
                            saber: "Desaf√≠os de la IA",
                            indicador: "Reconoce **desaf√≠os de la inteligencia artificial** relacionados con la protecci√≥n de la informaci√≥n personal sensible, cuando se realizan actividades con herramientas digitales."
                        },
                        {
                            saber: "Fundamentos de la IA",
                            indicador: "Identifica los **fundamentos de la inteligencia artificial**, reconociendo c√≥mo aprende, toma decisiones y se diferencia de otros sistemas automatizados en contextos cotidianos."
                        }
                    ]
                },
                modulo2: {
                    apropiacion: [
                        {
                            saber: "Herramientas de creaci√≥n multimedia (editor gr√°fico)",
                            indicador: "Aplica **herramientas de creaci√≥n de contenido multimedia**, como el editor gr√°fico, utilizando funciones b√°sicas de creaci√≥n, edici√≥n y guardado de im√°genes en la elaboraci√≥n de productos digitales."
                        },
                        {
                            saber: "Navegador",
                            indicador: "Utiliza **navegadores** y **buscadores** web en la b√∫squeda de informaci√≥n en internet siguiendo una consigna dada."
                        },
                        {
                            saber: "Buscador",
                            indicador: "Utiliza **navegadores** y **buscadores** web en la b√∫squeda de informaci√≥n en internet siguiendo una consigna dada."
                        },
                        {
                            saber: "Internet",
                            indicador: "Identifica dispositivos que se conectan a **internet** describiendo sus funciones b√°sicas en el contexto de situaciones cotidianas o escolares."
                        },
                        {
                            saber: "Netiqueta",
                            indicador: "Aplica normas de **netiqueta** durante la interacci√≥n en entornos digitales, reconociendo el tono apropiado, la cortes√≠a y el respeto hacia otros usuarios en actividades de comunicaci√≥n sincr√≥nica y asincr√≥nica."
                        },
                        {
                            saber: "Comunicaci√≥n y colaboraci√≥n sincr√≥nica/asincr√≥nica (chat)",
                            indicador: "Identifica el chat como una herramienta de **comunicaci√≥n y colaboraci√≥n sincr√≥nica y asincr√≥nica**, reconociendo sus caracter√≠sticas y su uso en actividades digitales guiadas."
                        },
                        {
                            saber: "Huella digital",
                            indicador: "Identifica los usos e implicaciones de la **huella digital**, reconociendo c√≥mo las acciones realizadas en entornos digitales dejan rastros permanentes relacionados con la privacidad y reputaci√≥n en l√≠nea."
                        },
                        {
                            saber: "Contrase√±as seguras",
                            indicador: "Identifica qu√© es una **contrase√±a segura** y sus elementos b√°sicos, reconociendo su importancia en la protecci√≥n de cuentas y datos personales en entornos digitales."
                        },
                        {
                            saber: "Hackeo (phishing, redes inseguras)",
                            indicador: "Identifica qu√© es **hackeo**, phishing y conexiones inseguras (como redes wifi p√∫blicas), reconociendo situaciones comunes donde pueden presentarse riesgos para la seguridad digital."
                        },
                        {
                            saber: "Software malicioso (virus)",
                            indicador: "Identifica qu√© es un virus inform√°tico como un tipo de **software malicioso**, reconociendo los riesgos que representan para la informaci√≥n y el funcionamiento de los dispositivos."
                        },
                        {
                            saber: "Antivirus",
                            indicador: "Identifica la funci√≥n y caracter√≠sticas de un **antivirus**, reconociendo su importancia en la protecci√≥n de dispositivos digitales utilizados."
                        },
                        {
                            saber: "Almacenamiento en la nube",
                            indicador: "Crea archivos digitales en plataformas de **almacenamiento en la nube**, configurando los permisos de uso compartido para facilitar la colaboraci√≥n en actividades escolares."
                        },
                        {
                            saber: "Referencias bibliogr√°ficas",
                            indicador: "Aplica un formato b√°sico de **referencias bibliogr√°ficas** (autor, t√≠tulo, fuente y a√±o) en las producciones, valorando la atribuci√≥n de las fuentes utilizadas."
                        },
                        {
                            saber: "Internet de las cosas",
                            indicador: "Reconoce aplicaciones del **Internet de las Cosas (IoT)** en la cotidianidad, identificando dispositivos inteligentes conectados que interact√∫an entre s√≠."
                        },
                        {
                            saber: "Moneda virtual",
                            indicador: "Reconoce la utilidad e implicaciones b√°sicas de las **monedas virtuales**, identificando situaciones donde pueden usarse y los riesgos asociados a su manejo en contextos diferentes."
                        },
                        {
                            saber: "Riesgos en l√≠nea (ciberacoso, suplantaci√≥n)",
                            indicador: "Identifica **riesgos en l√≠nea** como ciberacoso, contenido inapropiado y suplantaci√≥n de identidad, aplicando protocolos de riesgo en entornos digitales."
                        },
                        {
                            saber: "Medidas de seguridad en la web (HTTPS, t√©rminos y condiciones)",
                            indicador: "Identifica **medidas de seguridad en la web**, comprendiendo la diferencia entre HTTPS y HTTP y la importancia de lectura de los t√©rminos y condiciones antes de aceptar."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Colecci√≥n de datos (listas, arreglos)",
                            indicador: "Organiza datos en programaci√≥n mediante el uso de listas o agrupaciones de elementos con caracter√≠sticas comunes, como parte del desarrollo de una **colecci√≥n de datos**."
                        },
                        {
                            saber: "Operadores l√≥gicos (Y, O, NO)",
                            indicador: "Reconoce **operadores l√≥gicos** de conjunci√≥n (Y) y disyunci√≥n (O) en la resoluci√≥n de problemas, representando condiciones que deben cumplirse de manera conjunta o alternativa."
                        },
                        {
                            saber: "Procedimientos/funciones",
                            indicador: "Reconoce **procedimientos o funciones** en programaci√≥n, comprendiendo c√≥mo se declaran, invocan y se usan par√°metros y argumentos en la resoluci√≥n de un problema."
                        },
                        {
                            saber: "Dato (booleano)",
                            indicador: "Utiliza **datos** tipo booleano en la resoluci√≥n de problemas en entornos de programaci√≥n, reconociendo su funci√≥n en la toma de decisiones."
                        }
                    ],
                    computacion: [
                        {
                            saber: "Sensor (integrado/externo, VCC, GND)",
                            indicador: "Identifica **sensores** integrados y externos, reconociendo su funcionamiento y la forma de conectarlos a VCC y GND durante la exploraci√≥n o construcci√≥n de prototipos."
                        },
                        {
                            saber: "Actuador (integrado/externo)",
                            indicador: "Identifica **actuadores** integrados y externos, reconociendo c√≥mo se conectan a VCC y GND mientras generan una salida f√≠sica en prototipos."
                        },
                        {
                            saber: "Dom√≥tica",
                            indicador: "Identifica usos y aplicaciones de la **dom√≥tica**, reconociendo c√≥mo la automatizaci√≥n mejora la comodidad y eficiencia en entornos cotidianos."
                        }
                    ],
                    ciencia: [
                        {
                            saber: "Dato (num√©rico, texto, ubicaci√≥n, im√°genes)",
                            indicador: "Identifica el **dato** de tipo num√©rico y de texto en situaciones cotidianas, a partir del registro de informaci√≥n que evidencie su utilidad."
                        },
                        {
                            saber: "Recolecci√≥n de datos (t√©cnicas)",
                            indicador: "Reconoce **t√©cnicas de recolecci√≥n** de datos seg√∫n el tipo de informaci√≥n que se desea obtener en situaciones cotidianas."
                        },
                        {
                            saber: "Almacenamiento de datos",
                            indicador: "Identifica formas de **almacenamiento de datos**, reconociendo c√≥mo se utilizan archivos locales y hojas de c√°lculo en la organizaci√≥n de informaci√≥n relevante en contextos cotidianos."
                        },
                        {
                            saber: "Visualizaci√≥n de datos (gr√°ficos, tablas)",
                            indicador: "Identifica la **visualizaci√≥n de datos** mediante formas de representaci√≥n como gr√°ficos o tablas cuando se observan ejemplos en situaciones cotidianas."
                        },
                        {
                            saber: "Estrategias para presentar datos (tablas)",
                            indicador: "Reconoce las tablas como una **estrategia para presentar datos** organizadamente, a partir de informaci√≥n recolectada en situaciones cotidianas."
                        },
                        {
                            saber: "Fundamentos de la IA",
                            indicador: "Identifica los **fundamentos de la inteligencia artificial**, reconociendo c√≥mo aprende, toma decisiones y se diferencia de otros sistemas automatizados."
                        },
                        {
                            saber: "Herramientas generativas",
                            indicador: "Reconoce **herramientas digitales generativas** que producen contenido a partir de instrucciones sencillas."
                        }
                    ]
                }
            },

            // ========== III CICLO (S√©timo, Octavo, Noveno) ==========
            III: {
                modulo1: {
                    apropiacion: [
                        {
                            saber: "Computadora (reglas b√°sicas de uso)",
                            indicador: "Aplica reglas b√°sicas y responsabilidades durante el uso de una **computadora**, contribuyendo al cuidado, seguridad y prolongaci√≥n de su vida √∫til."
                        },
                        {
                            saber: "Hardware (componentes, perif√©ricos, tipos de computadoras)",
                            indicador: "Clasifica tipos de **computadoras** y sus componentes principales de **hardware**, identificando funciones de perif√©ricos comunes al interactuar con dispositivos digitales."
                        },
                        {
                            saber: "Software (tipos, funciones)",
                            indicador: "Distingue los tipos de **software** relacion√°ndolos con sus funciones y usos en tareas cotidianas."
                        },
                        {
                            saber: "Redes de comunicaci√≥n (m√≥dem, router, puntos de acceso)",
                            indicador: "Identifica tipos de **redes de comunicaci√≥n** y sus dispositivos principales (m√≥dem, router y puntos de acceso), explicando su funcionamiento y principios de comunicaci√≥n durante la conexi√≥n a Internet en contextos cotidianos."
                        },
                        {
                            saber: "Sistema operativo (categor√≠as, papelera)",
                            indicador: "Identifica las categor√≠as de los **sistemas operativos** (escritorio y dispositivos m√≥viles), describiendo su funci√≥n b√°sica y el uso de la papelera como herramienta que elimina y/o recupera archivos."
                        },
                        {
                            saber: "Gesti√≥n de archivos (propiedades: tama√±o, tipo, extensi√≥n)",
                            indicador: "Aplica las propiedades (tama√±o, tipo y extensi√≥n) en la **gesti√≥n de archivos** para compartir informaci√≥n en diferentes entornos digitales."
                        },
                        {
                            saber: "Herramientas de creaci√≥n multimedia (editor de gr√°ficos)",
                            indicador: "Dise√±a productos visuales con **herramientas de creaci√≥n multimedia** utilizando editores gr√°ficos, aplicando principios b√°sicos de dise√±os y formatos adecuados seg√∫n la calidad requerida."
                        },
                        {
                            saber: "Conexi√≥n entre dispositivos (IP)",
                            indicador: "Explica c√≥mo las direcciones IP permiten la **conexi√≥n entre dispositivos** y su comunicaci√≥n dentro de una red local o en internet, comprendiendo su funci√≥n en situaciones cotidianas."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Entorno de programaci√≥n textual o por bloques",
                            indicador: "Reconoce un **entorno de programaci√≥n textual o bloques**, identificando sus funciones para aplicarlos en la resoluci√≥n de ejercicios."
                        },
                        {
                            saber: "L√≥gica de programaci√≥n (proposiciones, conectores l√≥gicos, tablas de verdad)",
                            indicador: "Identifica la **l√≥gica de programaci√≥n** con el uso de proposiciones y conectores l√≥gicos (AND, OR, NOT), reconociendo su uso en tablas de verdad para la evaluaci√≥n de expresiones l√≥gicas."
                        },
                        {
                            saber: "Algoritmo (estructura entrada-proceso-salida, caracter√≠sticas)",
                            indicador: "Reconoce el **algoritmo** identificando su estructura (entrada, proceso, salida) y aplicando sus caracter√≠sticas (preciso, finito, definido) como una representaci√≥n clara y ordenada."
                        },
                        {
                            saber: "Dato (tipos, almacenamiento)",
                            indicador: "Identifica tipos de **dato** y formas de almacenamiento, aplic√°ndolos en la creaci√≥n de algoritmos para resolver desaf√≠os programados."
                        },
                        {
                            saber: "Variable (declaraci√≥n, asignaci√≥n)",
                            indicador: "Identifica tipos de **variable**, aplicando su gesti√≥n mediante declaraciones y asignaciones en un entorno de programaci√≥n."
                        },
                        {
                            saber: "Estructuras condicionales",
                            indicador: "Aplica **estructuras condicionales** en un entorno de programaci√≥n para la resoluci√≥n de desaf√≠os que requieran la toma de decisiones l√≥gicas."
                        },
                        {
                            saber: "Estructuras repetitivas",
                            indicador: "Aplica **estructuras repetitivas** en un entorno de programaci√≥n para resolver desaf√≠os que requieren la ejecuci√≥n c√≠clica de instrucciones."
                        },
                        {
                            saber: "Operadores relacionales",
                            indicador: "Aplica **operadores relacionales** para realizar comparaciones dentro de ejercicios de programaci√≥n."
                        },
                        {
                            saber: "Operadores aritm√©ticos",
                            indicador: "Aplica **operadores aritm√©ticos** (suma, resta, multiplicaci√≥n y divisi√≥n) para resolver c√°lculos dentro de ejercicios de programaci√≥n."
                        },
                        {
                            saber: "Operadores l√≥gicos",
                            indicador: "Aplica **operadores l√≥gicos** (Y, O, NO) en la resoluci√≥n de desaf√≠os de programaci√≥n que impliquen decisiones."
                        },
                        {
                            saber: "Evento",
                            indicador: "Aplica un **evento** como acci√≥n que se detona mediante una causa y un efecto al resolver desaf√≠os programados."
                        },
                        {
                            saber: "Procedimientos/funciones",
                            indicador: "Aplica **procedimientos y/o funciones** como estructura modular, a trav√©s de su declaraci√≥n e invocaci√≥n, haciendo uso de par√°metros y argumentos durante la soluci√≥n de desaf√≠os programados."
                        }
                    ],
                    computacion: [
                        {
                            saber: "Robot (tipos, componentes: cuerpo, sistema sensorial, control)",
                            indicador: "Reconoce qu√© es un **robot**, sus tipos y componentes (cuerpo, sistema sensorial y sistema de control), diferenci√°ndolo de otros dispositivos no rob√≥ticos."
                        },
                        {
                            saber: "Rob√≥tica (diferencia con computaci√≥n f√≠sica)",
                            indicador: "Diferencia la **computaci√≥n f√≠sica** con la **rob√≥tica**, identificando c√≥mo los sensores, actuadores y sistemas de control se integran en mecanismos rob√≥ticos."
                        },
                        {
                            saber: "Mec√°nica aplicada a la rob√≥tica (estructura, estabilidad)",
                            indicador: "Emplea principios de la **mec√°nica aplicados a la rob√≥tica**, como la estructura y la estabilidad, en el dise√±o de mecanismos rob√≥ticos."
                        },
                        {
                            saber: "Mecanismos (transmisi√≥n y transformaci√≥n de movimiento)",
                            indicador: "Reconoce los tipos de **mecanismos**, identificando su funci√≥n principal en la transmisi√≥n y transformaci√≥n del movimiento mediante la simulaci√≥n de prototipos."
                        },
                        {
                            saber: "Circuito el√©ctrico (componentes, carga, voltaje, corriente, resistencias)",
                            indicador: "Identifica los componentes de un **circuito el√©ctrico** y su funcionamiento, comprendiendo la relaci√≥n entre carga el√©ctrica, voltaje, corriente, resistencias e interruptores mediante la simulaci√≥n de prototipos."
                        },
                        {
                            saber: "Fundamentos de electr√≥nica (pines, se√±al anal√≥gica/digital)",
                            indicador: "Identifica **fundamentos de electr√≥nica**, reconociendo la funci√≥n de pines de entrada y salida, as√≠ como la diferencia entre se√±ales anal√≥gicas y digitales durante la simulaci√≥n o construcci√≥n de circuitos."
                        },
                        {
                            saber: "Microcontrolador (pines digitales/anal√≥gicos, comunicaci√≥n programa-tarjeta)",
                            indicador: "Comprende los componentes b√°sicos de un **microcontrolador**, aplicando la funci√≥n de pines digitales y anal√≥gicos y c√≥mo se establece la comunicaci√≥n entre el programa y la tarjeta microcontroladora durante la exploraci√≥n o simulaci√≥n de prototipos."
                        }
                    ],
                    ciencia: [
                        {
                            saber: "Fundamentos de la IA",
                            indicador: "Reconoce los **fundamentos de la inteligencia artificial**, identificando el concepto y sus aplicaciones en el contexto personal y laboral."
                        },
                        {
                            saber: "Asistentes virtuales",
                            indicador: "Identifica qu√© son los **asistentes virtuales** basados en inteligencia artificial, reconociendo su utilidad al interactuar con herramientas digitales, bajo criterios de seguridad y responsabilidad."
                        },
                        {
                            saber: "Dato (tipos en redes sociales, historiales, localizaci√≥n)",
                            indicador: "Identifica tipos de **dato** (num√©ricos, de texto, de ubicaci√≥n y de im√°genes), analizando c√≥mo influye en decisiones y/o comportamientos en redes sociales, historiales de navegaci√≥n o sistemas de localizaci√≥n."
                        }
                    ]
                },
                modulo2: {
                    apropiacion: [
                        {
                            saber: "Herramienta de productividad (procesador de texto, editor presentaciones)",
                            indicador: "Aplica la **herramienta de productividad** c√≥mo procesador de texto y/o editor de presentaci√≥n para crear productos comunicativos adecuados al prop√≥sito y contexto de uso."
                        },
                        {
                            saber: "Internet (funcionamiento, ISP, conectividad)",
                            indicador: "Reconoce el funcionamiento de **Internet**, comprendiendo la conectividad entre dispositivos y el rol de los proveedores de servicio (ISP) en el acceso a la red."
                        },
                        {
                            saber: "Navegador (pesta√±as, seguridad)",
                            indicador: "Utiliza el **navegador** y el **buscador** web para acceder y localizar informaci√≥n en l√≠nea, gestionando pesta√±as y aplicando estrategias b√°sicas de b√∫squeda con principios de seguridad digital."
                        },
                        {
                            saber: "Buscador (estrategias b√∫squeda, filtros, dominios confiables)",
                            indicador: "Utiliza el **navegador** y el **buscador** web para acceder y localizar informaci√≥n en l√≠nea, gestionando pesta√±as y aplicando estrategias b√°sicas de b√∫squeda con principios de seguridad digital."
                        },
                        {
                            saber: "Netiqueta",
                            indicador: "Utiliza herramientas de comunicaci√≥n y colaboraci√≥n sincr√≥nica y asincr√≥nica (correo electr√≥nico, chats, videollamadas), aplicando normas de **netiqueta** en la redacci√≥n, interacci√≥n y participaci√≥n respetuosa en entornos digitales."
                        },
                        {
                            saber: "Comunicaci√≥n y colaboraci√≥n sincr√≥nica/asincr√≥nica (correo, chat, videollamada)",
                            indicador: "Utiliza herramientas de **comunicaci√≥n y colaboraci√≥n sincr√≥nica y asincr√≥nica** (correo electr√≥nico, chats, videollamadas), aplicando normas de netiqueta en la redacci√≥n, interacci√≥n y participaci√≥n respetuosa en entornos digitales."
                        },
                        {
                            saber: "Almacenamiento en la nube (guardar, organizar, compartir)",
                            indicador: "Utiliza el **almacenamiento en la nube** para guardar, organizar y compartir archivos digitales, reconociendo sus ventajas en el acceso y colaboraci√≥n desde diferentes dispositivos."
                        },
                        {
                            saber: "Referencias bibliogr√°ficas (autor, t√≠tulo, fuente, fecha)",
                            indicador: "Aplica formatos b√°sicos de **referencias bibliogr√°ficas** en producciones digitales o escritas, integrando datos como autor, t√≠tulo, fuente y fecha, reconociendo la procedencia de la informaci√≥n."
                        },
                        {
                            saber: "Criptomonedas (utilidad, implicaciones)",
                            indicador: "Reconoce la utilidad e implicaciones del uso de **criptomonedas** en entornos digitales cotidianos como juegos, plataformas virtuales o pagos en l√≠nea."
                        },
                        {
                            saber: "Contrase√±as seguras (generadores, doble factor)",
                            indicador: "Crea **contrase√±as seguras** con generadores aleatorios, comprendiendo sus caracter√≠sticas e importancia para la protecci√≥n de la informaci√≥n personal en entornos digitales."
                        },
                        {
                            saber: "Software malicioso (caracter√≠sticas, riesgos)",
                            indicador: "Reconoce las caracter√≠sticas del **software malicioso**, analizando los riesgos asociados al uso de sitios web o aplicaciones potencialmente peligrosas en actividades pr√°cticas."
                        },
                        {
                            saber: "Riesgos en l√≠nea (suplantaci√≥n, grooming, phishing, noticias falsas)",
                            indicador: "Identifica **riesgos en l√≠nea** como la suplantaci√≥n de identidad, grooming, phishing y noticias falsas, analizando acciones b√°sicas de prevenci√≥n en sus interacciones digitales."
                        },
                        {
                            saber: "Plataformas de creaci√≥n de contenido",
                            indicador: "Utiliza **plataformas de creaci√≥n de contenido** digital en la elaboraci√≥n de infograf√≠as, diagramas o presentaciones, organizando la informaci√≥n de forma visual y coherente seg√∫n el prop√≥sito comunicativo."
                        },
                        {
                            saber: "Licencia digital",
                            indicador: "Reconoce la **licencia digital** en el uso de contenido en l√≠nea, valorando sus alcances y limitaciones."
                        },
                        {
                            saber: "Hackeo (tipos de hacker, implicaciones legales)",
                            indicador: "Reconoce el **hackeo** como una amenaza digital, diferenciando tipos de hacker, comprendiendo sus implicaciones legales y valorando medidas para su prevenci√≥n."
                        },
                        {
                            saber: "Antivirus",
                            indicador: "Aplica medidas de protecci√≥n digital mediante el reconocimiento de tipos de **software malicioso** y el uso adecuado del **antivirus**, valorando su actualizaci√≥n como parte de una ciudadan√≠a digital responsable."
                        },
                        {
                            saber: "Redes de comunicaci√≥n (arquitectura, protocolos HTTP/HTTPS/TCP/IP)",
                            indicador: "Reconoce las **redes de comunicaci√≥n** a partir de su arquitectura, protocolos (como HTTP, HTTPS y TCP/IP) e interfaces, comprendiendo su funcionamiento durante el intercambio de datos."
                        },
                        {
                            saber: "Sistema operativo (optimizaci√≥n: memoria, desfragmentar, cach√©)",
                            indicador: "Aplica t√©cnicas de optimizaci√≥n del **sistema operativo**, identificando c√≥mo gestionar memoria, desfragmentar discos, limpiar cach√© y actualizar el sistema para el mejoramiento del desempe√±o de dispositivos."
                        },
                        {
                            saber: "Herramienta de productividad (gestor de bases de datos)",
                            indicador: "Utiliza un **gestor de bases de datos** como herramienta de productividad para la creaci√≥n de tablas, estableciendo relaciones entre ellas y realizando consultas en la organizaci√≥n de la informaci√≥n."
                        },
                        {
                            saber: "Herramientas de creaci√≥n multimedia (modelado 3D)",
                            indicador: "Utiliza **herramientas de creaci√≥n de contenido multimedia** para el modelado 3D, aplicando funciones b√°sicas de creaci√≥n y edici√≥n en productos digitales."
                        },
                        {
                            saber: "Plataformas de creaci√≥n de contenido (encuestas, formularios)",
                            indicador: "Crea encuestas o formularios mediante **plataformas de creaci√≥n de contenido**, ajustando su formato y estructura al prop√≥sito de recolecci√≥n o evaluaci√≥n de datos."
                        },
                        {
                            saber: "Derechos de autor y licenciamiento",
                            indicador: "Reconoce la importancia de los **derechos de autor y el licenciamiento**, aplicando buenas pr√°cticas de uso √©tico y legal de contenidos digitales."
                        },
                        {
                            saber: "Huella digital",
                            indicador: "Analiza la utilidad e implicaciones de la **huella digital**, valorando c√≥mo las acciones en l√≠nea afectan la identidad, reputaci√≥n y seguridad personal en entornos digitales."
                        },
                        {
                            saber: "Riesgos en l√≠nea (acceso inapropiado, ciberadicci√≥n, ciberacoso, sexting)",
                            indicador: "Analiza **riesgos en l√≠nea** (acceso a informaci√≥n inapropiada, ciberadicci√≥n, ciberacoso y sexting), valorando estrategias de prevenci√≥n y autocuidado en sus interacciones digitales."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Colecci√≥n de datos (listas, arreglos)",
                            indicador: "Gestiona una **colecci√≥n de datos** como listas o arreglos mediante su creaci√≥n, recorrido y modificaci√≥n durante la soluci√≥n de ejercicios programados."
                        },
                        {
                            saber: "Operadores l√≥gicos (Y, O, NO)",
                            indicador: "Aplica **operadores l√≥gicos** (Y, O, NO) en la resoluci√≥n de desaf√≠os de programaci√≥n que impliquen decisiones."
                        },
                        {
                            saber: "Procedimientos/funciones (declaraci√≥n, invocaci√≥n, par√°metros, argumentos)",
                            indicador: "Aplica **procedimientos y/o funciones** como estructura modular, a trav√©s de su declaraci√≥n e invocaci√≥n, haciendo uso de par√°metros y argumentos durante la soluci√≥n de desaf√≠os programados."
                        }
                    ],
                    computacion: [
                        {
                            saber: "Sensor (integrado/externo, conexi√≥n VCC/GND)",
                            indicador: "Utiliza un **sensor** integrado y/o externo, comprendiendo su funci√≥n y su correcta conexi√≥n a VCC y GND durante la construcci√≥n o simulaci√≥n de un prototipo."
                        },
                        {
                            saber: "Actuador (integrado/externo)",
                            indicador: "Utiliza un **actuador** integrado y/o externo, comprendiendo su funci√≥n y c√≥mo se conecta correctamente a VCC y GND durante la construcci√≥n o simulaci√≥n de un prototipo."
                        },
                        {
                            saber: "Dom√≥tica (usos, aplicaciones, beneficios)",
                            indicador: "Analiza los usos, aplicaciones y beneficios de la **dom√≥tica**, mediante la creaci√≥n o simulaci√≥n de un prototipo que responda a necesidades reales en un entorno cotidiano."
                        },
                        {
                            saber: "Movimiento en mecanismos (entrada/salida)",
                            indicador: "Identifica el **movimiento en mecanismos** rob√≥ticos, diferenciando el movimiento de entrada y salida, a partir de la observaci√≥n y an√°lisis de simulaciones o prototipos b√°sicos que integren sensores y actuadores."
                        },
                        {
                            saber: "Microcontrolador (pines, VCC/GND, comunicaci√≥n sensores/actuadores)",
                            indicador: "Aplica las funciones de un **microcontrolador**, utilizando pines digitales y anal√≥gicos, conexi√≥n a VCC y GND y comunicaci√≥n con sensores y actuadores durante la simulaci√≥n o construcci√≥n de prototipos."
                        },
                        {
                            saber: "Prototipos (dise√±o e integraci√≥n de sensores, actuadores)",
                            indicador: "Construye **prototipos** que integren sensores, actuadores y un microcontrolador, a partir de una necesidad identificada en su contexto."
                        }
                    ],
                    ciencia: [
                        {
                            saber: "Dato (organizaci√≥n, conservaci√≥n, seguridad, responsabilidad)",
                            indicador: "Reconoce la importancia de la organizaci√≥n y conservaci√≥n del **dato**, aplicando criterios de seguridad y responsabilidad en la gesti√≥n de informaci√≥n."
                        },
                        {
                            saber: "Recolecci√≥n de datos (registros escolares/personales)",
                            indicador: "Aplica **t√©cnicas de recolecci√≥n de datos** mediante registros escolares y personales (gastos, notas, actividades deportivas o datos m√©dicos simples), organizando la informaci√≥n en tablas."
                        },
                        {
                            saber: "Almacenamiento de datos (ciclo de vida: creaci√≥n, uso, conservaci√≥n, eliminaci√≥n)",
                            indicador: "Reconoce el ciclo de vida del dato en el **almacenamiento de datos**, identificando las etapas de creaci√≥n, uso, conservaci√≥n y eliminaci√≥n responsable de la informaci√≥n en contextos educativos o personales."
                        },
                        {
                            saber: "Visualizaci√≥n de datos",
                            indicador: "Aplica t√©cnicas de **visualizaci√≥n de datos**, creando representaciones gr√°ficas simples como gr√°ficos pict√≥ricos o de barras para comunicar informaci√≥n."
                        },
                        {
                            saber: "Estrategias para presentar datos",
                            indicador: "Crea gr√°ficos de barras o lineales a partir de datos, aplicando **estrategias para representar datos** en la comunicaci√≥n de informaci√≥n relevante."
                        },
                        {
                            saber: "Fundamentos de la IA (funcionamiento, diferencia con otros sistemas)",
                            indicador: "Reconoce los **fundamentos de la inteligencia artificial**, identificando c√≥mo funciona y se diferencia de otros sistemas digitales."
                        },
                        {
                            saber: "Herramientas generativas (texto, imagen, audio, seguridad, responsabilidad)",
                            indicador: "Utiliza **herramientas generativas** basadas en inteligencia artificial, aplicando funciones para la creaci√≥n o modificaci√≥n de contenido digital (texto, imagen o audio) respetando criterios de seguridad y responsabilidad."
                        },
                        {
                            saber: "Desaf√≠os de la IA (sesgos, manipulaci√≥n, dependencia, privacidad)",
                            indicador: "Reconoce los **desaf√≠os de la inteligencia artificial**, identificando riesgos como sesgos, manipulaci√≥n de informaci√≥n, dependencia tecnol√≥gica y privacidad de datos, reflexionando sobre su impacto en la vida laboral, personal y social."
                        }
                    ]
                }
            }
        };

        // Verbos Bloom (tercera persona, primera letra may√∫scula)
        const verbosBloom = [
            'Identifica', 'Reconoce', 'Enumera', 'Describe',
            'Explica', 'Ejemplifica', 'Clasifica', 'Resume',
            'Utiliza', 'Resuelve', 'Programa', 'Implementa',
            'Compara', 'Organiza', 'Diferencia', 'Examina',
            'Justifica', 'Argumenta', 'Valida', 'Recomienda',
            'Dise√±a', 'Construye', 'Propone', 'Desarrolla'
        ];

        // Estado
        let saberesSeleccionados = [];

        // Elementos DOM
        const cicloSelect = document.getElementById('cicloSelect');
        const nivelSelect = document.getElementById('nivelSelect');
        const modulo1 = document.getElementById('modulo1Container');
        const modulo2 = document.getElementById('modulo2Container');
        const contadorSel = document.getElementById('contadorSel');
        const listaSel = document.getElementById('saberesSeleccionadosList');
        const indicadoresContainer = document.getElementById('indicadoresContainer');
        const indicadoresInner = document.getElementById('indicadoresInner');
        const promptSalida = document.getElementById('promptSalida');
        const generarBtn = document.getElementById('generarPromptBtn');
        const copiarBtn = document.getElementById('copiarPrompt');
        const duaSaberesContainer = document.getElementById('duaSaberesContainer');
        const duaRecomendaciones = document.getElementById('duaRecomendaciones');
        const buscarYoutubeDua = document.getElementById('buscarYoutubeDua');
        const buscarGoogleDua = document.getElementById('buscarGoogleDua');
        const juegosModal = document.getElementById('juegosModal');
        const abrirModalJuegosBtn = document.getElementById('abrirModalJuegosBtn');
        const cerrarJuegosModal = document.getElementById('cerrarJuegosModal');
        const modalJuegosSaberes = document.getElementById('modalJuegosSaberes');
        const herramientasCards = document.querySelectorAll('.herramienta-card');
        const googleModal = document.getElementById('googleModal');
        const cerrarGoogleModal = document.getElementById('cerrarGoogleModal');
        const googleBusquedaTexto = document.getElementById('googleBusquedaTexto');
        const googleLink = document.getElementById('googleLink');

        // Niveles
        const niveles = {
            preescolar: ['Materno Infantil', 'Transici√≥n'],
            I: ['Primero', 'Segundo', 'Tercero'],
            II: ['Cuarto', 'Quinto', 'Sexto'],
            III: ['S√©timo', 'Octavo', 'Noveno']
        };

        // Renderizar niveles
        function renderNiveles() {
            nivelSelect.innerHTML = niveles[cicloSelect.value].map(n => `<option>${n}</option>`).join('');
            renderSaberes();
        }

        // Renderizar saberes
        function renderSaberes() {
            const data = saberesDB[cicloSelect.value] || saberesDB.preescolar;
            renderModulo(modulo1, data.modulo1, 'mod1');
            renderModulo(modulo2, data.modulo2, 'mod2');
            saberesSeleccionados = [];
            actualizarUI();
        }

        function renderModulo(container, modData, modId) {
            let html = '';
            for (let [area, saberes] of Object.entries(modData)) {
                if (saberes.length) {
                    html += `<div class="mb-4"><div class="font-semibold text-xs text-gray-500 mb-2 uppercase">${area}</div>`;
                    saberes.forEach(s => {
                        html += `<button data-mod="${modId}" data-area="${area}" data-saber="${s.saber}" data-indicador="${s.indicador}" class="saber-chip">${s.saber}</button>`;
                    });
                    html += `</div>`;
                }
            }
            container.innerHTML = html;
            container.querySelectorAll('.saber-chip').forEach(btn => {
                btn.addEventListener('click', () => {
                    const saber = btn.dataset.saber;
                    const idx = saberesSeleccionados.findIndex(s => s.saber === saber);
                    if (idx >= 0) {
                        saberesSeleccionados.splice(idx, 1);
                        btn.classList.remove('selected');
                    } else {
                        if (saberesSeleccionados.length >= 2) {
                            alert('M√°ximo 2 saberes');
                            return;
                        }
                        saberesSeleccionados.push({
                            saber: btn.dataset.saber,
                            indicador: btn.dataset.indicador,
                            area: btn.dataset.area,
                            modulo: btn.dataset.mod
                        });
                        btn.classList.add('selected');
                    }
                    actualizarUI();
                });
            });
        }

        function actualizarUI() {
            contadorSel.textContent = saberesSeleccionados.length;
            listaSel.innerHTML = saberesSeleccionados.map(s => 
                `<span class="bg-white/20 px-3 py-1.5 rounded-full text-sm">${s.saber}</span>`
            ).join('');
            
            mostrarIndicadores();
            actualizarDUA();
            guardarHistorial();
        }

        function mostrarIndicadores() {
            if (!saberesSeleccionados.length) {
                indicadoresContainer.classList.add('hidden');
                return;
            }

            let html = '';
            saberesSeleccionados.forEach((item, idx) => {
                html += `<div class="border-b pb-6 mb-6 last:border-0">`;
                html += `<p class="font-bold text-[#014d6b] mb-2">${item.saber}</p>`;
                html += `<div class="bg-blue-50 p-4 rounded-xl mb-4"><p class="text-sm">${item.indicador}</p></div>`;
                
                // Selector de verbos
                html += `<div class="mb-3 flex items-center gap-2">`;
                html += `<span class="text-sm font-medium">Verbo:</span>`;
                html += `<select id="verboSelect_${idx}" class="text-sm border rounded-lg p-2 bg-white">`;
                html += `<option value="">Seleccionar...</option>`;
                verbosBloom.forEach(v => html += `<option value="${v}">${v}</option>`);
                html += `</select>`;
                html += `</div>`;

                // Indicador de evaluaci√≥n editable
                html += `<textarea id="evalInput_${idx}" rows="2" class="w-full p-3 border border-green-200 rounded-xl text-sm" placeholder="Indicador de evaluaci√≥n...">${item.indicador.replace('Identifica', 'Identifica').replace('Reconoce', 'Reconoce')}</textarea>`;
                html += `</div>`;
            });
            indicadoresInner.innerHTML = html;
            indicadoresContainer.classList.remove('hidden');

            // Eventos para verbos
            saberesSeleccionados.forEach((_, idx) => {
                const select = document.getElementById(`verboSelect_${idx}`);
                const textarea = document.getElementById(`evalInput_${idx}`);
                if (select) {
                    select.addEventListener('change', () => {
                        if (select.value && textarea) {
                            // Reemplazar el verbo actual por el seleccionado
                            const textoActual = textarea.value;
                            const nuevoTexto = select.value + textoActual.replace(/^[A-Za-z√Å√â√ç√ì√ö√ë√°√©√≠√≥√∫√±]+/, '').trim();
                            textarea.value = nuevoTexto;
                        }
                    });
                }
            });
        }

        // ========== PESTA√ëA DUA ==========
        function actualizarDUA() {
            if (!saberesSeleccionados.length) {
                duaSaberesContainer.innerHTML = '<p class="text-gray-400 text-sm">Ning√∫n saber seleccionado</p>';
                duaRecomendaciones.innerHTML = '<p class="text-white/80">Selecciona saberes para ver recomendaciones personalizadas</p>';
                return;
            }

            // Mostrar saberes con indicadores
            let html = '';
            saberesSeleccionados.forEach((item, idx) => {
                html += `<div class="border-b pb-4 mb-4 last:border-0">`;
                html += `<p class="font-bold text-[#014d6b]">${item.saber}</p>`;
                html += `<p class="text-sm text-gray-600 mt-1">${item.indicador}</p>`;
                
                // Selector de verbos
                html += `<div class="mt-2 flex items-center gap-2">`;
                html += `<span class="text-xs text-gray-500">Verbo:</span>`;
                html += `<select id="duaVerbo${idx}" class="text-sm border rounded-lg p-2">`;
                html += `<option value="">Seleccionar...</option>`;
                verbosBloom.forEach(v => html += `<option value="${v}">${v}</option>`);
                html += `</select>`;
                html += `</div>`;

                // Indicador de evaluaci√≥n editable
                html += `<textarea id="duaEval${idx}" rows="2" class="w-full p-3 border border-green-200 rounded-xl text-sm mt-2" placeholder="Indicador de evaluaci√≥n...">${item.indicador.replace('Identifica', 'Identifica').replace('Reconoce', 'Reconoce')}</textarea>`;
                html += `</div>`;
            });
            duaSaberesContainer.innerHTML = html;

            // Recomendaciones DUA basadas en el documento de inclusi√≥n
            const saberesStr = saberesSeleccionados.map(s => s.saber).join(' y ');
            duaRecomendaciones.innerHTML = `
                <div class="bg-white/10 p-4 rounded-xl">
                    <p class="font-bold mb-2">üìå Para trabajar ${saberesStr}:</p>
                    <ul class="space-y-2 text-sm">
                        <li>üëÅÔ∏è <span class="font-medium">Discapacidad visual:</span> Usar materiales t√°ctiles, descripciones verbales detalladas, maquetas, tarjetas en braille, circuitos con relieve.</li>
                        <li>ü¶æ <span class="font-medium">Discapacidad motriz:</span> Adaptar con pulsadores, usar tarjetas grandes, trabajo en equipo con roles rotativos, programas por voz.</li>
                        <li>üß† <span class="font-medium">Discapacidad cognitiva:</span> Secuencias cortas, pictogramas, refuerzo positivo, canciones, colores por pasos, instrucciones simples.</li>
                        <li>ü¶ª <span class="font-medium">Discapacidad auditiva:</span> Instrucciones escritas, videos con subt√≠tulos, apoyo visual, lengua de se√±as b√°sica.</li>
                    </ul>
                </div>
                <div class="bg-white/10 p-4 rounded-xl mt-3">
                    <p class="font-bold mb-2">üéÆ Juegos recomendados (de "15 juegos por la inclusi√≥n"):</p>
                    <ul class="text-sm space-y-1">
                        <li><span class="font-medium">Juego 1:</span> Derechos en movimiento - Reflexionar sobre derechos</li>
                        <li><span class="font-medium">Juego 6:</span> BASTA a la discriminaci√≥n - Combatir la discriminaci√≥n</li>
                        <li><span class="font-medium">Juego 9:</span> ¬°Alto al ciberacoso! - Poner l√≠mites en Internet</li>
                        <li><span class="font-medium">Juego 15:</span> Los retos de la empat√≠a - Ponerse en el lugar del otro</li>
                    </ul>
                </div>
            `;
        }

        // Botones DUA
        buscarYoutubeDua.addEventListener('click', () => {
            if (!saberesSeleccionados.length) {
                alert('Selecciona al menos un saber');
                return;
            }
            const busqueda = saberesSeleccionados.map(s => s.saber).join(' ');
            window.open(`https://www.youtube.com/results?search_query=${encodeURIComponent(busqueda)}+educativo`, '_blank');
        });

        buscarGoogleDua.addEventListener('click', () => {
            if (!saberesSeleccionados.length) {
                alert('Selecciona al menos un saber');
                return;
            }
            const busqueda = `Integra en una sola actividad: ${saberesSeleccionados.map(s => s.saber).join(' y ')}`;
            googleBusquedaTexto.textContent = busqueda;
            googleLink.href = `https://www.google.com/search?q=${encodeURIComponent(busqueda)}&udm=2`;
            googleModal.style.display = 'flex';
        });

        // ========== MODAL DE JUEGOS ==========
        abrirModalJuegosBtn.addEventListener('click', () => {
            if (!saberesSeleccionados.length) {
                alert('Selecciona al menos un saber');
                return;
            }
            modalJuegosSaberes.textContent = saberesSeleccionados.map(s => s.saber).join(' + ');
            juegosModal.style.display = 'flex';
        });

        cerrarJuegosModal.addEventListener('click', () => {
            juegosModal.style.display = 'none';
        });

        juegosModal.addEventListener('click', (e) => {
            if (e.target === juegosModal) juegosModal.style.display = 'none';
        });

        herramientasCards.forEach(card => {
            card.addEventListener('click', () => {
                window.open(card.dataset.url, '_blank');
            });
        });

        // ========== MODAL GOOGLE ==========
        cerrarGoogleModal.addEventListener('click', () => {
            googleModal.style.display = 'none';
        });

        googleModal.addEventListener('click', (e) => {
            if (e.target === googleModal) googleModal.style.display = 'none';
        });

        // ========== GENERAR PROMPT (EDITABLE) ==========
        generarBtn.addEventListener('click', () => {
            if (!saberesSeleccionados.length) {
                promptSalida.value = 'Selecciona al menos un saber';
                return;
            }

            const evalTexts = [];
            saberesSeleccionados.forEach((_, i) => {
                const el = document.getElementById(`evalInput_${i}`) || document.getElementById(`duaEval${i}`);
                if (el) evalTexts.push(el.value);
            });

            const prompt = `Dise√±a una mediaci√≥n pedag√≥gica para ${cicloSelect.value} sobre ${saberesSeleccionados.map(s => s.saber).join(' y ')}

Indicadores de evaluaci√≥n:
${evalTexts.map((t,i) => `${i+1}. ${t}`).join('\n')}

Incluye:
1. Actividad desconectada (sin dispositivos digitales, usando materiales concretos)
2. Actividad pr√°ctica en equipo (con dispositivos, programaci√≥n o rob√≥tica)
3. Metodolog√≠a activa (ABJ, ABR o Design Thinking)
4. Evaluaci√≥n seg√∫n REA MEP: trabajo cotidiano (60%), tareas (10%) y prueba de ejecuci√≥n (20%)
5. Variante DUA para estudiantes con NEE (basada en el documento "15 juegos por la inclusi√≥n" considerando discapacidad visual, motriz, cognitiva o auditiva)`;

            promptSalida.value = prompt;
        });

        copiarBtn.addEventListener('click', () => {
            promptSalida.select();
            document.execCommand('copy');
            alert('‚úÖ Prompt copiado');
        });

        // ========== HISTORIAL ==========
        function guardarHistorial() {
            if (!saberesSeleccionados.length) return;
            const nombres = saberesSeleccionados.map(s => s.saber).join(' + ');
            const item = `${nombres} (${new Date().toLocaleTimeString()})`;
            let recent = JSON.parse(localStorage.getItem('recentSearches') || '[]');
            recent.unshift(item);
            if (recent.length > 10) recent.pop();
            localStorage.setItem('recentSearches', JSON.stringify(recent));
            mostrarRecientes();
        }

        function mostrarRecientes() {
            const recent = JSON.parse(localStorage.getItem('recentSearches') || '[]');
            document.getElementById('recentList').innerHTML = recent.length 
                ? recent.map(r => `<li class="bg-gray-50 p-2 rounded-lg">${r}</li>`).join('')
                : '<li class="text-gray-400">No hay b√∫squedas recientes</li>';
            document.getElementById('statConsultas').textContent = recent.length;
        }

        document.getElementById('clearRecentBtn').addEventListener('click', () => {
            localStorage.removeItem('recentSearches');
            mostrarRecientes();
        });

        // ========== REPORTES ==========
        // Horarios (7:00 a 17:40)
        const horariosBody = document.getElementById('horariosBody');
        const horas = [
            '7:00 - 7:40', '7:40 - 8:20', '8:20 - 9:00', '9:00 - 9:40',
            '9:40 - 10:20', '10:20 - 11:00', '11:00 - 11:40', '11:40 - 12:20',
            '12:20 - 13:00', '13:00 - 13:40', '13:40 - 14:20', '14:20 - 15:00',
            '15:00 - 15:40', '15:40 - 16:20', '16:20 - 17:00', '17:00 - 17:40'
        ];
        
        let horariosHTML = '';
        horas.forEach(hora => {
            horariosHTML += `<tr class="border-b"><td class="p-3 font-medium">${hora}</td>`;
            for (let i = 0; i < 5; i++) {
                horariosHTML += `<td class="p-2"><input type="text" class="horario-input" placeholder="Asignatura"></td>`;
            }
            horariosHTML += `</tr>`;
        });
        horariosBody.innerHTML = horariosHTML;

        document.getElementById('guardarHorario').addEventListener('click', () => {
            alert('‚úÖ Horario guardado (simulado)');
        });

        // Plantilla Excel
        document.getElementById('descargarPlantilla').addEventListener('click', () => {
            const plantilla = "Apellido1,Apellido2,Nombre,Secci√≥n,Adecuaci√≥n\nGarc√≠a,L√≥pez,Juan,9-1,No presenta\nP√©rez,Gonz√°lez,Mar√≠a,9-1,Adecuaci√≥n no significativa\nLaureano,Guevara,Alberto,9-1,Adecuaci√≥n significativa";
            const blob = new Blob([plantilla], { type: 'text/csv' });
            saveAs(blob, 'plantilla_estudiantes.csv');
        });

        // Cargar Excel (simulado)
        document.getElementById('cargarExcel').addEventListener('click', () => {
            const estudiantesBody = document.getElementById('estudiantesBody');
            estudiantesBody.innerHTML = `
                <div class="estudiante-row"><span>Garc√≠a L√≥pez</span><span>Juan</span><span>9-1</span><span>No presenta</span><span><button class="text-blue-600">Editar</button></span></div>
                <div class="estudiante-row"><span>P√©rez Gonz√°lez</span><span>Mar√≠a</span><span>9-1</span><span>Adecuaci√≥n no significativa</span><span><button class="text-blue-600">Editar</button></span></div>
                <div class="estudiante-row"><span>Laureano Guevara</span><span>Alberto</span><span>9-1</span><span>Adecuaci√≥n significativa</span><span><button class="text-blue-600">Editar</button></span></div>
            `;
        });

        // Generar instrumentos (basado en saberes seleccionados)
        function generarRubrica() {
            if (!saberesSeleccionados.length) {
                alert('Primero selecciona saberes en Planificador');
                return;
            }

            const titulo = document.getElementById('instrumentoTitulo');
            const contenido = document.getElementById('instrumentoContenido');
            const vistaPrevia = document.getElementById('instrumentoVistaPrevia');

            titulo.textContent = `R√∫brica anal√≠tica: ${saberesSeleccionados.map(s => s.saber).join(' + ')}`;

            let html = '<table class="w-full border-collapse">';
            html += '<thead><tr class="bg-gray-100"><th class="p-2 border">Criterio</th><th class="p-2 border">Excelente (4)</th><th class="p-2 border">Bueno (3)</th><th class="p-2 border">Regular (2)</th><th class="p-2 border">Necesita mejorar (1)</th></tr></thead>';
            html += '<tbody>';

            saberesSeleccionados.forEach(s => {
                html += `<tr><td class="p-2 border font-medium">${s.saber}</td>`;
                html += `<td class="p-2 border">Demuestra dominio completo</td>`;
                html += `<td class="p-2 border">Demuestra dominio parcial</td>`;
                html += `<td class="p-2 border">Demuestra dificultades</td>`;
                html += `<td class="p-2 border">No demuestra dominio</td>`;
                html += `</tr>`;
            });

            html += '</tbody></table>';
            contenido.innerHTML = html;
            vistaPrevia.classList.remove('hidden');
        }

        function generarCotejo() {
            if (!saberesSeleccionados.length) {
                alert('Primero selecciona saberes en Planificador');
                return;
            }

            const titulo = document.getElementById('instrumentoTitulo');
            const contenido = document.getElementById('instrumentoContenido');
            const vistaPrevia = document.getElementById('instrumentoVistaPrevia');

            titulo.textContent = `Lista de cotejo: ${saberesSeleccionados.map(s => s.saber).join(' + ')}`;

            let html = '<table class="w-full border-collapse">';
            html += '<thead><tr class="bg-gray-100"><th class="p-2 border">Indicador</th><th class="p-2 border">S√≠</th><th class="p-2 border">No</th><th class="p-2 border">Observaciones</th></tr></thead>';
            html += '<tbody>';

            saberesSeleccionados.forEach((s, i) => {
                html += `<tr><td class="p-2 border">${i+1}. ${s.saber}</td>`;
                html += `<td class="p-2 border text-center"><input type="checkbox"></td>`;
                html += `<td class="p-2 border text-center"><input type="checkbox"></td>`;
                html += `<td class="p-2 border"><input type="text" class="w-full p-1 border rounded" placeholder="..."></td>`;
                html += `</tr>`;
            });

            html += '</tbody></table>';
            contenido.innerHTML = html;
            vistaPrevia.classList.remove('hidden');
        }

        function generarEscala() {
            if (!saberesSeleccionados.length) {
                alert('Primero selecciona saberes en Planificador');
                return;
            }

            const titulo = document.getElementById('instrumentoTitulo');
            const contenido = document.getElementById('instrumentoContenido');
            const vistaPrevia = document.getElementById('instrumentoVistaPrevia');

            titulo.textContent = `Escala de desempe√±o: ${saberesSeleccionados.map(s => s.saber).join(' + ')}`;

            let html = '<table class="w-full border-collapse">';
            html += '<thead><tr class="bg-gray-100"><th class="p-2 border">Criterio</th><th class="p-2 border">4 - Excelente</th><th class="p-2 border">3 - Bueno</th><th class="p-2 border">2 - Regular</th><th class="p-2 border">1 - Bajo</th></tr></thead>';
            html += '<tbody>';

            saberesSeleccionados.forEach(s => {
                html += `<tr><td class="p-2 border font-medium">${s.saber}</td>`;
                html += `<td class="p-2 border"><input type="radio" name="${s.saber}"></td>`;
                html += `<td class="p-2 border"><input type="radio" name="${s.saber}"></td>`;
                html += `<td class="p-2 border"><input type="radio" name="${s.saber}"></td>`;
                html += `<td class="p-2 border"><input type="radio" name="${s.saber}"></td>`;
                html += `</tr>`;
            });

            html += '</tbody></table>';
            contenido.innerHTML = html;
            vistaPrevia.classList.remove('hidden');
        }

        document.getElementById('generarRubrica').addEventListener('click', generarRubrica);
        document.getElementById('generarCotejo').addEventListener('click', generarCotejo);
        document.getElementById('generarEscala').addEventListener('click', generarEscala);

        // ========== BIT√ÅCORA ==========
        const bitacoraEntradas = document.getElementById('bitacoraEntradas');

        function guardarBitacora() {
            const fecha = document.getElementById('bitacoraFecha').value;
            const seccion = document.getElementById('bitacoraSeccion').value;
            const asignatura = document.getElementById('bitacoraAsignatura').value;
            const sesion = document.getElementById('bitacoraSesion').value;
            const tema = document.getElementById('bitacoraTema').value;
            const actividades = document.getElementById('bitacoraActividades').value;
            const recursos = document.getElementById('bitacoraRecursos').value;
            const indicadores = document.getElementById('bitacoraIndicadores').value;
            const observaciones = document.getElementById('bitacoraObservaciones').value;
            const firma = document.getElementById('bitacoraFirma').value;

            if (!tema) {
                alert('Completa al menos el tema');
                return;
            }

            const entrada = document.createElement('div');
            entrada.className = 'bg-gray-50 p-3 rounded-lg border-l-4 border-[#014d6b]';
            entrada.innerHTML = `
                <p class="font-semibold">${fecha} - ${seccion} - Sesi√≥n ${sesion}</p>
                <p class="text-sm font-medium">${tema}</p>
                <p class="text-xs text-gray-600 mt-1">${actividades.substring(0, 100)}${actividades.length > 100 ? '...' : ''}</p>
                <p class="text-xs text-gray-400 mt-1">${firma || 'Sin firma'}</p>
            `;
            bitacoraEntradas.prepend(entrada);

            // Guardar en localStorage
            const bitacoras = JSON.parse(localStorage.getItem('bitacoras') || '[]');
            bitacoras.unshift({
                fecha, seccion, asignatura, sesion, tema, actividades, recursos, indicadores, observaciones, firma
            });
            localStorage.setItem('bitacoras', JSON.stringify(bitacoras));

            alert('‚úÖ Entrada guardada en bit√°cora');
        }

        document.getElementById('guardarBitacoraClase').addEventListener('click', guardarBitacora);

        document.getElementById('exportarBitacoraWord').addEventListener('click', () => {
            const fecha = document.getElementById('bitacoraFecha').value;
            const seccion = document.getElementById('bitacoraSeccion').value;
            const tema = document.getElementById('bitacoraTema').value;
            const actividades = document.getElementById('bitacoraActividades').value;
            
            const contenido = `BIT√ÅCORA DE CLASE - MEP\nFecha: ${fecha}\nSecci√≥n: ${seccion}\nTema: ${tema}\nActividades: ${actividades}`;
            const blob = new Blob([contenido], { type: 'application/msword' });
            saveAs(blob, `bitacora_${fecha}.doc`);
        });

        document.getElementById('exportarBitacoraPDF').addEventListener('click', () => {
            const element = document.createElement('div');
            element.innerHTML = `
                <h1>Bit√°cora de Clase - MEP</h1>
                <p>Fecha: ${document.getElementById('bitacoraFecha').value}</p>
                <p>Secci√≥n: ${document.getElementById('bitacoraSeccion').value}</p>
                <p>Tema: ${document.getElementById('bitacoraTema').value}</p>
            `;
            html2pdf().from(element).save('bitacora.pdf');
        });

        // Cargar bit√°coras guardadas
        function cargarBitacorasGuardadas() {
            const bitacoras = JSON.parse(localStorage.getItem('bitacoras') || '[]');
            bitacoras.slice(0, 5).forEach(b => {
                const entrada = document.createElement('div');
                entrada.className = 'bg-gray-50 p-3 rounded-lg border-l-4 border-[#014d6b]';
                entrada.innerHTML = `
                    <p class="font-semibold">${b.fecha} - ${b.seccion}</p>
                    <p class="text-sm">${b.tema}</p>
                `;
                bitacoraEntradas.appendChild(entrada);
            });
        }
        cargarBitacorasGuardadas();

        // ========== ESTAD√çSTICAS ==========
        document.getElementById('statSaberes').textContent = '186';
        document.getElementById('ultimaVisita').textContent = new Date().toLocaleDateString();

        // ========== TABS ==========
        function mostrarTab(tab) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.getElementById(`tab${tab}`).classList.remove('hidden');
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-white', 'text-[#014d6b]', 'border-b-3', 'border-[#014d6b]');
                btn.classList.add('bg-gray-100', 'text-gray-600');
            });
            document.getElementById(`tab${tab}Btn`).classList.add('active', 'bg-white', 'text-[#014d6b]', 'border-b-3', 'border-[#014d6b]');
        }

        document.getElementById('tabPlanBtn').addEventListener('click', () => mostrarTab('Plan'));
        document.getElementById('tabDuaBtn').addEventListener('click', () => mostrarTab('Dua'));
        document.getElementById('tabReportesBtn').addEventListener('click', () => mostrarTab('Reportes'));
        document.getElementById('tabAdminBtn').addEventListener('click', () => mostrarTab('Admin'));

        // Inicializar
        renderNiveles();
        cicloSelect.addEventListener('change', renderNiveles);
        mostrarRecientes();
    </script>
</body>
</html>
