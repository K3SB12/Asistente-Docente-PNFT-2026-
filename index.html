<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asistente Docente PNFT 路 MEP 2026 路 PROFESIONAL</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        * { font-family: 'Poppins', sans-serif; margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary-teal: #09b7ae;
            --secondary-teal: #0bd2ce;
            --primary-dark: #014d6b;
            --secondary-dark: #0b6284;
            --primary-purple: #45258f;
            --primary-green: #9ed16f;
        }
        
        .saber-chip {
            user-select: none;
            cursor: pointer;
            transition: all 0.2s;
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
        }
        
        .saber-chip.selected {
            background: var(--primary-teal);
            color: white;
            border-color: var(--primary-dark);
        }
        
        .video-result {
            transition: all 0.2s;
            border-left: 4px solid transparent;
            background: white;
            border-radius: 0.75rem;
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            cursor: pointer;
        }
        
        .video-result:hover {
            transform: translateX(4px);
            border-left-color: var(--primary-teal);
            box-shadow: 0 8px 16px rgba(1,77,107,0.1);
        }
        
        .modal-overlay {
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(8px);
        }
        
        .tab-btn.active {
            background: white;
            color: var(--primary-dark);
            font-weight: 600;
            border-bottom: 3px solid var(--primary-dark);
        }
    </style>
</head>
<body class="bg-gray-50 p-4 md:p-8">
    <div class="max-w-7xl mx-auto">
        <!-- HEADER -->
        <div class="bg-white rounded-2xl shadow-xl p-6 mb-8">
            <div class="flex items-center gap-4">
                <div class="w-16 h-16 bg-gradient-to-br from-[#014d6b] to-[#45258f] rounded-2xl flex items-center justify-center">
                    <i class="fas fa-laptop-code text-white text-2xl"></i>
                </div>
                <div>
                    <h1 class="text-3xl font-bold text-[#014d6b]">Asistente Docente <span class="text-[#45258f]">PNFT</span></h1>
                    <p class="text-sm text-gray-600">Programa Nacional de Formaci贸n Tecnol贸gica 路 MEP 2026</p>
                    <p class="text-xs text-[#09b7ae] mt-1">186 saberes 路 IA 路 DUA 路 Google Modo AI</p>
                </div>
            </div>
        </div>

        <!-- TABS -->
        <div class="flex gap-2 mb-6 border-b">
            <button id="tabPlanBtn" class="tab-btn px-6 py-3 rounded-t-lg bg-white text-[#014d6b] border-b-3 border-[#014d6b] font-semibold"> Planificador</button>
            <button id="tabRecursosBtn" class="tab-btn px-6 py-3 rounded-t-lg bg-gray-100 text-gray-600"> Recursos DUA</button>
            <button id="tabAdminBtn" class="tab-btn px-6 py-3 rounded-t-lg bg-gray-100 text-gray-600">锔 Administraci贸n</button>
        </div>

        <!-- ========== PESTAA PLANIFICADOR ========== -->
        <div id="tabPlan" class="tab-content">
            <!-- Selectores -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                <div class="bg-white p-4 rounded-xl shadow-md">
                    <label class="block text-sm font-medium text-gray-600 mb-2">Ciclo</label>
                    <select id="cicloSelect" class="w-full p-3 border rounded-xl">
                        <option value="preescolar">Preescolar</option>
                        <option value="I">I Ciclo</option>
                        <option value="II">II Ciclo</option>
                        <option value="III">III Ciclo</option>
                    </select>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-md">
                    <label class="block text-sm font-medium text-gray-600 mb-2">Nivel</label>
                    <select id="nivelSelect" class="w-full p-3 border rounded-xl"></select>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-md flex items-center justify-center">
                    <span class="text-3xl font-bold text-[#014d6b]">186</span>
                    <span class="ml-2 text-gray-600">saberes</span>
                </div>
            </div>

            <!-- M贸dulos -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <div class="bg-white rounded-2xl shadow-xl p-6">
                    <h3 class="text-lg font-bold text-[#014d6b] mb-4"> M贸dulo 1</h3>
                    <div id="modulo1Container" class="space-y-4 max-h-[500px] overflow-y-auto"></div>
                </div>
                <div class="bg-white rounded-2xl shadow-xl p-6">
                    <h3 class="text-lg font-bold text-[#0b6284] mb-4"> M贸dulo 2</h3>
                    <div id="modulo2Container" class="space-y-4 max-h-[500px] overflow-y-auto"></div>
                </div>
            </div>

            <!-- Barra de selecci贸n -->
            <div class="bg-gradient-to-r from-[#014d6b] to-[#0b6284] rounded-2xl p-6 mb-8 text-white">
                <div class="flex flex-wrap items-center gap-4">
                    <span class="bg-white/20 px-4 py-2 rounded-full">Seleccionados: <span id="contadorSel">0</span>/2</span>
                    <div id="saberesSeleccionadosList" class="flex flex-wrap gap-2 flex-1"></div>
                    <button id="generarPromptBtn" class="bg-white text-[#014d6b] px-6 py-3 rounded-xl font-semibold hover:bg-gray-100 transition flex items-center gap-2">
                        <i class="fas fa-wand-magic-sparkles"></i> Generar prompt
                    </button>
                    <button id="abrirModalBtn" class="bg-[#9ed16f] text-[#014d6b] px-6 py-3 rounded-xl font-semibold hover:bg-green-400 transition flex items-center gap-2">
                        <i class="fas fa-google"></i> Google Modo AI
                    </button>
                </div>
            </div>

            <!-- Indicadores -->
            <div id="indicadoresContainer" class="bg-white rounded-2xl shadow-xl p-6 mb-8 hidden">
                <h3 class="text-xl font-bold text-[#014d6b] mb-6"> Indicadores de evaluaci贸n</h3>
                <div id="indicadoresInner"></div>
            </div>

            <!-- Prompt -->
            <div class="bg-gray-900 rounded-2xl shadow-xl p-6 mb-8">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-gray-300 font-mono"> Prompt para IA:</span>
                    <button id="copiarPrompt" class="bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition text-sm">
                        <i class="far fa-copy mr-2"></i>Copiar
                    </button>
                </div>
                <textarea id="promptSalida" rows="6" class="w-full bg-gray-800 text-gray-100 p-4 rounded-xl font-mono text-sm" readonly>Selecciona saberes y haz clic en Generar prompt</textarea>
            </div>
        </div>

        <!-- ========== PESTAA RECURSOS DUA (CORREGIDA) ========== -->
        <div id="tabRecursos" class="tab-content hidden">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Buscador YouTube con saberes -->
                <div class="bg-white rounded-2xl shadow-xl p-6">
                    <h2 class="text-xl font-bold text-[#014d6b] flex items-center gap-2 mb-4">
                        <i class="fab fa-youtube text-red-600"></i> YouTube inclusivo
                    </h2>
                    
                    <div class="bg-blue-50 p-4 rounded-xl mb-4">
                        <p class="text-sm font-medium text-[#014d6b] mb-2">Saberes seleccionados:</p>
                        <div id="saberesParaYoutube" class="flex flex-wrap gap-2 min-h-[40px]">
                            <!-- Se llena din谩micamente -->
                        </div>
                    </div>

                    <div class="flex gap-2 mb-4">
                        <input type="text" id="youtubeSearch" placeholder="T茅rmino de b煤squeda" class="flex-1 p-3 border rounded-xl">
                        <button id="buscarYoutubeBtn" class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-xl flex items-center gap-2 transition">
                            <i class="fab fa-youtube"></i> Buscar
                        </button>
                    </div>

                    <div id="youtubeResultados" class="space-y-3 max-h-96 overflow-y-auto">
                        <!-- Resultados din谩micos -->
                    </div>
                </div>

                <!-- Banco DUA din谩mico -->
                <div class="bg-gradient-to-br from-[#45258f] to-[#6b4ba3] rounded-2xl shadow-xl p-6 text-white">
                    <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                        <i class="fas fa-universal-access"></i> Recursos DUA din谩micos
                    </h2>
                    
                    <div id="duaContent" class="space-y-4">
                        <!-- Contenido din谩mico seg煤n saberes -->
                    </div>

                    <button id="generarDUABtn" class="mt-6 w-full bg-white/20 hover:bg-white/30 text-white py-3 rounded-xl transition flex items-center justify-center gap-2">
                        <i class="fas fa-sync-alt"></i> Actualizar recomendaciones
                    </button>
                </div>

                <!-- Recursos externos -->
                <div class="lg:col-span-2 bg-white rounded-2xl shadow-xl p-6">
                    <h3 class="font-bold text-[#014d6b] mb-4"> Enlaces profesionales</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                        <a href="https://www.educacionyfp.gob.es/mc/sede/recursos/educacion-inclusiva.html" target="_blank" class="bg-gray-50 p-3 rounded-xl hover:shadow-md transition text-center"> Educaci贸n Inclusiva</a>
                        <a href="https://www.understood.org/" target="_blank" class="bg-gray-50 p-3 rounded-xl hover:shadow-md transition text-center"> Understood</a>
                        <a href="https://www.cast.org/" target="_blank" class="bg-gray-50 p-3 rounded-xl hover:shadow-md transition text-center"> CAST 路 UDL</a>
                        <a href="https://www.inclusioneducativa.org/" target="_blank" class="bg-gray-50 p-3 rounded-xl hover:shadow-md transition text-center"> Inclusi贸n</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== PESTAA ADMINISTRACIN (CORREGIDA) ========== -->
        <div id="tabAdmin" class="tab-content hidden">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Historial real con localStorage -->
                <div class="bg-white rounded-2xl shadow-xl p-6">
                    <h2 class="text-xl font-bold text-[#014d6b] mb-4 flex items-center gap-2">
                        <i class="fas fa-history"></i> Historial de b煤squedas
                    </h2>
                    <ul id="recentList" class="space-y-2 text-sm max-h-60 overflow-y-auto"></ul>
                    <button id="clearRecentBtn" class="mt-4 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm transition">
                        <i class="fas fa-trash-alt mr-2"></i>Limpiar historial
                    </button>
                </div>

                <!-- Bit谩cora funcional -->
                <div class="bg-white rounded-2xl shadow-xl p-6">
                    <h2 class="text-xl font-bold text-[#014d6b] mb-4 flex items-center gap-2">
                        <i class="fas fa-clipboard-list"></i> Bit谩cora MEP
                    </h2>
                    <textarea id="bitacoraTexto" rows="6" class="w-full border p-4 rounded-xl text-sm resize-y" placeholder="Registro de actividades, adecuaciones, observaciones..."></textarea>
                    <div class="flex gap-3 mt-4">
                        <button id="guardarBitacora" class="bg-[#014d6b] text-white px-6 py-2 rounded-lg hover:bg-[#0b6284] transition flex items-center gap-2">
                            <i class="fas fa-save"></i> Guardar
                        </button>
                        <button id="exportarBitacora" class="bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition flex items-center gap-2">
                            <i class="fas fa-file-export"></i> Exportar
                        </button>
                    </div>
                </div>

                <!-- Estad铆sticas reales -->
                <div class="lg:col-span-2 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl shadow-xl p-6">
                    <h2 class="text-xl font-bold text-[#014d6b] mb-4"> Estad铆sticas de uso</h2>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="bg-white p-4 rounded-xl text-center">
                            <div class="text-3xl font-bold text-[#09b7ae]" id="statSaberes">186</div>
                            <div class="text-xs text-gray-500">Saberes totales</div>
                        </div>
                        <div class="bg-white p-4 rounded-xl text-center">
                            <div class="text-3xl font-bold text-[#09b7ae]" id="statConsultas">0</div>
                            <div class="text-xs text-gray-500">Consultas hoy</div>
                        </div>
                        <div class="bg-white p-4 rounded-xl text-center">
                            <div class="text-3xl font-bold text-[#09b7ae]" id="statJuegos">0</div>
                            <div class="text-xs text-gray-500">Juegos generados</div>
                        </div>
                        <div class="bg-white p-4 rounded-xl text-center">
                            <div class="text-3xl font-bold text-[#09b7ae]" id="ultimaVisita">-</div>
                            <div class="text-xs text-gray-500">ltima visita</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MODAL GOOGLE MODO AI (NUEVO) -->
        <div id="googleModal" class="fixed inset-0 modal-overlay hidden items-center justify-center z-50">
            <div class="bg-white rounded-2xl max-w-lg w-full mx-4 p-6 shadow-2xl">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-[#014d6b] flex items-center gap-2">
                        <i class="fab fa-google text-blue-500"></i> Google Modo AI
                    </h3>
                    <button id="cerrarGoogleModal" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
                </div>

                <div class="bg-blue-50 p-4 rounded-xl mb-4">
                    <p class="text-sm font-medium text-[#014d6b] mb-2">Saberes seleccionados:</p>
                    <div id="googleSaberes" class="flex flex-wrap gap-2"></div>
                </div>

                <div class="text-center mb-6">
                    <div class="text-5xl mb-3"></div>
                    <p class="text-lg font-semibold">Integra en una sola actividad:</p>
                    <p id="googleConsulta" class="text-xl font-bold text-[#09b7ae] mt-2"></p>
                </div>

                <div class="flex gap-3">
                    <button id="cancelarGoogle" class="flex-1 bg-gray-200 hover:bg-gray-300 py-3 rounded-xl transition">
                        Cancelar
                    </button>
                    <a id="googleLink" href="#" target="_blank" class="flex-1 bg-[#09b7ae] hover:bg-[#014d6b] text-white py-3 rounded-xl transition flex items-center justify-center gap-2">
                        <i class="fab fa-google"></i> Buscar en Google AI
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========== BASE DE DATOS COMPLETA (186 SABERES) ==========
        // ========== BASE DE DATOS COMPLETA DEL PNFT 2026 ==========
        // Incluye todos los saberes conceptuales e indicadores de logro
        // de Preescolar, I Ciclo, II Ciclo y III Ciclo

        const saberesDB = {
            // ========== PREESCOLAR (Materno Infantil y Transici贸n) ==========
            preescolar: {
                modulo1: {
                    apropiacion: [
                        { 
                            saber: "Computadora",
                            indicador: "Identifica qu茅 es una **computadora** y algunas de sus caracter铆sticas, a partir de experiencias pr谩cticas de interacci贸n con dispositivos digitales."
                        },
                        { 
                            saber: "Software",
                            indicador: "Reconoce elementos visuales b谩sicos de la interfaz de **software** (iconos, botones, ventanas), interactuando con ellos mediante el uso guiado de dispositivos digitales."
                        },
                        { 
                            saber: "Herramientas de creaci贸n de contenido multimedia",
                            indicador: "Reconoce las **herramientas de creaci贸n de contenido multimedia** seg煤n su utilidad: editor gr谩fico, grabadora de audio y video, en la creaci贸n de recursos digitales."
                        },
                        { 
                            saber: "Hardware (贸ptimo)",
                            indicador: "Reconoce componentes b谩sicos del **hardware**, como dispositivos de entrada y salida de datos, explorando su funci贸n al encender, usar o interactuar con la computadora en actividades cotidianas."
                        },
                        { 
                            saber: "Internet (贸ptimo)",
                            indicador: "Reconoce qu茅 es **Internet** y los requerimientos de un dispositivo para conectarse a Internet, realizando una exploraci贸n dirigida."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Entornos de programaci贸n iconogr谩fico",
                            indicador: "Reconoce el **entorno de programaci贸n iconogr谩fico**, interactuando con bloques de la interfaz, como desplazamiento, apariencia o sonido, mediante el uso guiado del docente."
                        },
                        {
                            saber: "Lateralidad y orientaci贸n espacial",
                            indicador: "Reconoce los conceptos de **lateralidad y orientaci贸n espacial** en la construcci贸n de secuencias de acciones para la soluci贸n de retos de programaci贸n."
                        },
                        {
                            saber: "Evento",
                            indicador: "Reconoce que un **evento** desencadena una acci贸n, identificando la relaci贸n de causa y efecto en juegos o actividades."
                        }
                    ],
                    computacion: [], // N/A en m贸dulo 1 preescolar
                    ciencia: []      // N/A en m贸dulo 1 preescolar
                },
                modulo2: {
                    apropiacion: [
                        {
                            saber: "Conexi贸n entre dispositivos (bluetooth)",
                            indicador: "Reconoce la **conexi贸n entre dispositivos** por bluetooth y los requerimientos de dispositivos digitales para conectarse, a trav茅s de una exploraci贸n dirigida."
                        },
                        {
                            saber: "Conexi贸n entre dispositivos (wifi - 贸ptimo)",
                            indicador: "Reconoce formas de **conexi贸n entre dispositivos** por bluetooth y wifi, as铆 como los requerimientos de dispositivos digitales para conectarse, a trav茅s de una exploraci贸n dirigida."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Estado",
                            indicador: "Reconoce el concepto de **estado** programando objetos que modifican las propiedades de orientaci贸n y/o direcci贸n."
                        },
                        {
                            saber: "Algoritmo",
                            indicador: "Reconoce el concepto de **algoritmo** mediante secuencias de acciones l贸gicas y ordenadas, en la construcci贸n de soluciones a desaf铆os propuestos."
                        },
                        {
                            saber: "Dato (programaci贸n)",
                            indicador: "Reconoce la importancia del **dato** en contexto f铆sico y en contexto digital mientras soluciona desaf铆os propuestos."
                        },
                        {
                            saber: "Estructuras repetitivas (ciclo finito/infinito)",
                            indicador: "Reconoce **estructuras repetitivas** en secuencias de acciones durante la programaci贸n guiada de objetos digitales, distinguiendo si una acci贸n se repite un n煤mero limitado o ilimitado de veces."
                        }
                    ],
                    computacion: [
                        {
                            saber: "Robot",
                            indicador: "Reconoce qu茅 es un **robot**, sus componentes y algunos de sus usos, mediante actividades l煤dicas de exploraci贸n o programaci贸n guiada."
                        },
                        {
                            saber: "Componentes del robot (cuerpo, sistema sensorial, control)",
                            indicador: "Identifica diferentes partes de un robot, como cuerpo, sistema sensorial y control, mediante actividades l煤dicas de exploraci贸n."
                        },
                        {
                            saber: "Clasificaci贸n de robots por su uso",
                            indicador: "Identifica los robots seg煤n su uso, clasific谩ndolos en actividades cotidianas."
                        }
                    ],
                    ciencia: [
                        {
                            saber: "Dato (ciencias de datos - texto, imagen, sonido, video)",
                            indicador: "Identifica el **dato** y su importancia en situaciones cotidianas, reconociendo diferentes tipos como texto, imagen, sonido o video."
                        },
                        {
                            saber: "Estrategias para presentar datos (gr谩ficos pict贸ricos)",
                            indicador: "Reconoce gr谩ficos pict贸ricos como **estrategia para representar datos** recolectados en actividades l煤dicas."
                        },
                        {
                            saber: "Visualizaci贸n de datos (贸ptimo)",
                            indicador: "Interpreta gr谩ficos pict贸ricos como parte de la **visualizaci贸n de datos** (colores, formas, cantidades), con apoyo del docente, relacion谩ndolos con datos conocidos del entorno."
                        },
                        {
                            saber: "Realidad aumentada (贸ptimo)",
                            indicador: "Experimenta con **realidad aumentada** en entornos f铆sicos mediante actividades sensoriales y l煤dicas, con acompa帽amiento del docente."
                        }
                    ]
                }
            },
        
            // ========== I CICLO (Primero, Segundo, Tercero) ==========
            I: {
                modulo1: {
                    apropiacion: [
                        {
                            saber: "Computadora",
                            indicador: "Reconoce la **computadora** como una herramienta tecnol贸gica, identificando sus caracter铆sticas b谩sicas, funciones e importancia en la vida cotidiana, por medio de la observaci贸n y manipulaci贸n pr谩ctica."
                        },
                        {
                            saber: "Hardware (entrada, procesamiento, almacenamiento, salida)",
                            indicador: "Identifica el **hardware** b谩sico de una computadora, reconociendo dispositivos de entrada, salida y las acciones de encendido y apagado, mediante actividades pr谩cticas guiadas."
                        },
                        {
                            saber: "Software",
                            indicador: "Identifica el **software** de una computadora, reconociendo los elementos b谩sicos de la interfaz de usuario mediante actividades pr谩cticas guiadas."
                        },
                        {
                            saber: "Herramientas de productividad (procesador de texto)",
                            indicador: "Utiliza **herramientas de productividad** como el procesador de texto, reconociendo la cinta de opciones, pesta帽as y comandos b谩sicos, as铆 como sus funciones por teclado, durante la creaci贸n de textos sencillos."
                        },
                        {
                            saber: "Herramientas de creaci贸n multimedia (audio, imagen)",
                            indicador: "Utiliza **herramientas de creaci贸n de contenido multimedia**, como la grabadora de audio y editores de gr谩ficos, aplicando funciones b谩sicas como crear, editar y guardar archivos, durante actividades guiadas de producci贸n digital en el aula."
                        },
                        {
                            saber: "Conexi贸n entre dispositivos (bluetooth)",
                            indicador: "Reconoce el bluetooth como medio de **conexi贸n entre dispositivos** utilizando dispositivos digitales en el aula."
                        },
                        {
                            saber: "Internet",
                            indicador: "Reconoce los dispositivos y programas que permiten la conexi贸n para la navegaci贸n en **Internet**."
                        },
                        {
                            saber: "Redes de comunicaci贸n",
                            indicador: "Describe qu茅 son las **redes de comunicaci贸n** y c贸mo funciona una red local, a partir de la observaci贸n y la pr谩ctica de intercambio de informaci贸n entre dispositivos conectados en el aula."
                        },
                        {
                            saber: "Gesti贸n de archivos",
                            indicador: "Reconoce la **gesti贸n de archivos** como proceso para la organizaci贸n y clasificaci贸n de la informaci贸n, mediante el uso de carpetas, subcarpetas y la exploraci贸n de archivos digitales."
                        },
                        {
                            saber: "Herramienta de productividad (editor de presentaciones)",
                            indicador: "Utiliza **herramientas de productividad**, como el editor de presentaciones, empleando la cinta de opciones, pesta帽as, comandos b谩sicos y sus funciones por teclado en la elaboraci贸n de presentaciones digitales."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Entornos de programaci贸n iconogr谩fico",
                            indicador: "Reconoce elementos b谩sicos de un **entorno de programaci贸n iconogr谩fico**, como bloques de desplazamiento, orientaci贸n, apariencia, sonido, eventos y control, mediante la navegaci贸n en la interfaz con actividades guiadas."
                        },
                        {
                            saber: "Entorno de programaci贸n por bloques",
                            indicador: "Aplica el uso del **entorno de programaci贸n por bloques**, explorando la interfaz y el 谩rea de bloques mientras construye secuencias de acciones que representen historias cotidianas."
                        },
                        {
                            saber: "Reconocimiento de patrones",
                            indicador: "**Reconoce patrones** de movimiento en secuencias de instrucciones simples para que un personaje siga una ruta desde un punto de inicio hasta un punto de llegada."
                        },
                        {
                            saber: "Estado",
                            indicador: "Reconoce el **estado** de un objeto digital en relaci贸n con su orientaci贸n, direcci贸n y tama帽o, identificando variaciones en dichos atributos, mediante secuencias de programaciones simples."
                        },
                        {
                            saber: "Algoritmo",
                            indicador: "Identifica un **algoritmo** en situaciones de la vida diaria, reconociendo secuencias l贸gicas y ordenadas de acciones, para ser representadas de forma anal贸gica (dibujos, tarjetas, gestos) y/o digital (entorno iconogr谩fico)."
                        },
                        {
                            saber: "Evento",
                            indicador: "Reconoce el **evento** como relaci贸n de causa y efecto al participar en juegos anal贸gicos, identificando c贸mo una acci贸n provoca una respuesta o cambio observable durante la din谩mica."
                        },
                        {
                            saber: "Dato",
                            indicador: "Identifica el **dato** en situaciones de la vida diaria, reconociendo informaci贸n valiosa en contextos f铆sicos (como etiquetas, se帽ales, objetos) y digitales (como im谩genes, 铆conos o pantallas interactivas)."
                        },
                        {
                            saber: "Variable",
                            indicador: "Identifica una **variable** en contextos de la vida cotidiana, observando elementos que cambian en relaci贸n con otros (como edad, cantidad, clima o tiempo de actividad)."
                        },
                        {
                            saber: "Estructuras repetitivas",
                            indicador: "Reconoce **estructuras repetitivas** al identificar ciclos finitos (como una canci贸n o rutina) e infinitos (como el tic-tac del reloj o el movimiento del ventilador) en situaciones de la vida diaria."
                        },
                        {
                            saber: "Operadores aritm茅ticos",
                            indicador: "Reconoce los **operadores aritm茅ticos** de suma y resta en situaciones de la vida cotidiana y su uso en un entorno de programaci贸n por bloques."
                        },
                        {
                            saber: "Operador relacional",
                            indicador: "Reconoce el **operador relacional** 'igual que' en situaciones de la vida cotidiana y su uso en un entorno de programaci贸n por bloques."
                        }
                    ],
                    computacion: [], // N/A en I ciclo
                    ciencia: []      // N/A en m贸dulo 1
                },
                modulo2: {
                    apropiacion: [
                        {
                            saber: "Herramientas de creaci贸n multimedia (audio, imagen)",
                            indicador: "Utiliza **herramientas de creaci贸n de contenido multimedia** para la creaci贸n de audios e im谩genes durante actividades guiadas de producci贸n digital en el aula."
                        },
                        {
                            saber: "Conexi贸n entre dispositivos (bluetooth)",
                            indicador: "Reconoce el bluetooth como medio de **conexi贸n entre dispositivos** utilizando dispositivos digitales en el aula."
                        },
                        {
                            saber: "Internet",
                            indicador: "Aplica normas b谩sicas de navegaci贸n por **internet**, para acceder a p谩ginas educativas seguras, bajo acompa帽amiento del docente."
                        },
                        {
                            saber: "Navegador",
                            indicador: "Identifica el **navegador** como una herramienta digital, reconociendo sus partes y usos en actividades de exploraci贸n guiada por el docente."
                        },
                        {
                            saber: "Buscador",
                            indicador: "Identifica el **buscador** como una herramienta digital para acceder a informaci贸n, distinguiendo sitios confiables y no confiables durante la exploraci贸n dirigida en buscadores infantiles."
                        },
                        {
                            saber: "Netiqueta",
                            indicador: "Identifica normas b谩sicas de **netiqueta** que deben seguir al participar en diferentes procesos de comunicaci贸n."
                        },
                        {
                            saber: "Comunicaci贸n y colaboraci贸n sincr贸nica/asincr贸nica",
                            indicador: "Identifica el correo electr贸nico como una herramienta de **comunicaci贸n asincr贸nica**, reconociendo sus caracter铆sticas y su uso en actividades digitales guiadas."
                        },
                        {
                            saber: "Huella digital",
                            indicador: "Reconoce qu茅 es la **huella digital** y c贸mo puede afectar su privacidad y seguridad en l铆nea, identificando que sus acciones en Internet dejan rastros que deben cuidarse."
                        },
                        {
                            saber: "Software malicioso",
                            indicador: "Reconoce el virus inform谩tico como un tipo de **software malicioso**, explicando de forma sencilla sus consecuencias, como p茅rdida de informaci贸n o mal funcionamiento en los dispositivos."
                        },
                        {
                            saber: "Riesgo en l铆nea",
                            indicador: "Reconoce algunos **riesgos en l铆nea** como los perfiles falsos, la p茅rdida de privacidad, el contacto con extra帽os y la adicci贸n al uso de dispositivos, identificando medidas b谩sicas para protegerse."
                        },
                        {
                            saber: "Medidas de seguridad web",
                            indicador: "Reconoce el control parental como una **medida de seguridad web** en el uso de Internet que protege frente a riesgos y limita el acceso a contenido inapropiado."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Estructuras repetitivas",
                            indicador: "Identifica **estructuras repetitivas** en actividades programadas, diferenciando entre ciclos finitos e infinitos seg煤n la cantidad de repeticiones requeridas."
                        },
                        {
                            saber: "Estructuras condicionales (simples)",
                            indicador: "Aplica **estructuras condicionales** simples en un entorno de programaci贸n por bloques en la resoluci贸n de un ejercicio programado."
                        },
                        {
                            saber: "Operadores aritm茅ticos",
                            indicador: "Reconoce los **operadores aritm茅ticos** de suma y resta en situaciones de la vida cotidiana y su uso en un entorno de programaci贸n por bloques."
                        },
                        {
                            saber: "Operador relacional ('igual que')",
                            indicador: "Reconoce el **operador relacional** 'igual que' en situaciones de la vida cotidiana y su uso en un entorno de programaci贸n por bloques."
                        }
                    ],
                    computacion: [], // N/A
                    ciencia: [
                        {
                            saber: "Fundamentos de la IA",
                            indicador: "Reconoce los **fundamentos de la inteligencia artificial** a trav茅s de objetos o situaciones del entorno donde esta tecnolog铆a est谩 presente, mediante actividades guiadas con apoyo visual o audiovisual."
                        },
                        {
                            saber: "Asistentes virtuales",
                            indicador: "Reconoce qu茅 es un **asistente virtual** y sus funciones a partir de demostraciones guiadas o videos educativos."
                        },
                        {
                            saber: "Desaf铆os de la IA",
                            indicador: "Identifica los **desaf铆os de la inteligencia artificial** en la vida cotidiana y algunas recomendaciones para su uso seguro y responsable, con la ayuda de ejemplos guiados."
                        }
                    ]
                }
            },
        
            // ========== II CICLO (Cuarto, Quinto, Sexto) ==========
            II: {
                modulo1: {
                    apropiacion: [
                        {
                            saber: "Hardware (dispositivos computacionales y perif茅ricos)",
                            indicador: "Clasifica componentes de **hardware** seg煤n su funci贸n, distinguiendo entre dispositivos computacionales (computadoras de escritorio, port谩tiles, tel茅fonos inteligentes, tabletas) y perif茅ricos (parlantes, micr贸fonos, aud铆fonos, impresora, c谩mara, dispositivos de almacenamiento local), en funci贸n de su uso en contextos cotidianos."
                        },
                        {
                            saber: "Software (sistema, aplicaci贸n, utilitarios)",
                            indicador: "Reconoce el **software** identificando sus tipos (de sistema, de aplicaci贸n y utilitarios), valorando su funci贸n en el uso cotidiano de dispositivos tecnol贸gicos."
                        },
                        {
                            saber: "Redes de comunicaci贸n (red local)",
                            indicador: "Reconoce las **redes de comunicaci贸n** identificando la funcionalidad y aplicaci贸n de una red local en el intercambio de informaci贸n entre dispositivos en contextos escolares y/o del hogar."
                        },
                        {
                            saber: "Conexi贸n entre dispositivos (f铆sica/inal谩mbrica)",
                            indicador: "Reconoce la **conexi贸n entre dispositivos** identificando si es f铆sica (cableada) o inal谩mbrica (bluetooth, wifi), seg煤n el uso en su entorno cercano."
                        },
                        {
                            saber: "Gesti贸n de archivos (crear, mover, copiar, renombrar, eliminar)",
                            indicador: "Organiza archivos y carpetas, aplicando acciones b谩sicas como crear, mover, copiar, renombrar y eliminar, en un entorno de sistema operativo para la **gesti贸n de archivos**."
                        },
                        {
                            saber: "Herramienta de productividad (procesador de texto, editor presentaciones)",
                            indicador: "Utiliza **herramientas de productividad**, como el procesador de texto y/o editor de presentaciones, en la creaci贸n de contenidos que incluyan texto, im谩genes y formatos b谩sicos, en funci贸n de una consigna dada."
                        },
                        {
                            saber: "Sistema operativo",
                            indicador: "Identifica la funcionalidad del escritorio en un **sistema operativo**, reconociendo los elementos b谩sicos de la barra de tareas como altavoces, auriculares, estado de la bater铆a y control de audio, durante el uso cotidiano."
                        },
                        {
                            saber: "Herramientas de creaci贸n multimedia (audio, video, editor gr谩fico)",
                            indicador: "Aplica **herramientas de creaci贸n de contenido multimedia**, como el editor gr谩fico, utilizando funciones b谩sicas de creaci贸n, edici贸n y guardado de im谩genes en la elaboraci贸n de productos digitales."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Entorno de programaci贸n por bloques",
                            indicador: "Utiliza el **entorno de programaci贸n** **por bloques**, explorando la interfaz y organizando bloques en el 谩rea de programaci贸n en la resoluci贸n de retos programados."
                        },
                        {
                            saber: "Estado",
                            indicador: "Identifica el concepto de **estado**, reconociendo cambios en las propiedades de orientaci贸n, direcci贸n y tama帽o de objetos en la creaci贸n de un producto programado."
                        },
                        {
                            saber: "Algoritmo (pseudoc贸digo)",
                            indicador: "Hace uso de **algoritmos** en pseudoc贸digo utilizando instrucciones de forma l贸gica y estructurada en la soluci贸n de un producto programado."
                        },
                        {
                            saber: "Dato (num茅rico, texto)",
                            indicador: "Organiza **datos** tipo num茅rico y de texto, reconociendo su uso en situaciones cotidianas."
                        },
                        {
                            saber: "Variable",
                            indicador: "Gestiona una **variable** en la resoluci贸n de ejercicios a trav茅s de algoritmos o actividades programadas."
                        },
                        {
                            saber: "Estructuras repetitivas",
                            indicador: "Utiliza **estructuras repetitivas** en pseudoc贸digo o programaci贸n por bloques, resolviendo ejercicios que requieran repeticiones controladas."
                        },
                        {
                            saber: "Eventos",
                            indicador: "Utiliza **eventos** en pseudoc贸digo o programaci贸n para el control de acciones y reacciones de objetos dentro de un programa, comprendiendo su relaci贸n de causa y efecto."
                        },
                        {
                            saber: "Estructuras condicionales (simples y compuestas)",
                            indicador: "Utiliza **estructuras condicionales** simples y compuestas en pseudoc贸digo o programaci贸n, en la ejecuci贸n de instrucciones cuando se cumple una condici贸n espec铆fica."
                        },
                        {
                            saber: "Operadores aritm茅ticos",
                            indicador: "Utiliza **operadores aritm茅ticos** de suma, resta, multiplicaci贸n y divisi贸n en pseudoc贸digo o programaci贸n, resolviendo ejercicios que involucren c谩lculos autom谩ticos."
                        },
                        {
                            saber: "Operadores relacionales",
                            indicador: "Utiliza **operadores relacionales** en pseudoc贸digo o programaci贸n, comparando valores en la toma de decisiones dentro del programa."
                        }
                    ],
                    computacion: [
                        {
                            saber: "Computaci贸n f铆sica",
                            indicador: "Reconoce los componentes b谩sicos de la **computaci贸n f铆sica**, como el microcontrolador, sensores, actuadores y el entorno de programaci贸n, relacion谩ndolos con sus usos y aplicaciones en contextos cotidianos."
                        },
                        {
                            saber: "Circuito el茅ctrico",
                            indicador: "Identifica componentes b谩sicos de un **circuito el茅ctrico**, reconociendo su tipo, el flujo de corriente, la polaridad y la funci贸n del interruptor durante la construcci贸n o simulaci贸n de prototipos."
                        },
                        {
                            saber: "Fundamentos de electr贸nica (pines entrada/salida, se帽al anal贸gica/digital)",
                            indicador: "Identifica **fundamentos de electr贸nica**, reconociendo la funci贸n de los pines de entrada y salida, as铆 como la diferencia entre se帽ales anal贸gicas y digitales durante la construcci贸n o simulaci贸n de circuitos."
                        },
                        {
                            saber: "Microcontrolador",
                            indicador: "Reconoce el funcionamiento b谩sico de un **microcontrolador**, identificando los pines digitales y anal贸gicos, la placa de expansi贸n y la comunicaci贸n entre el programa y la tarjeta a trav茅s de actividades pr谩cticas o simuladas."
                        }
                    ],
                    ciencia: [
                        {
                            saber: "Herramientas generativas",
                            indicador: "Reconoce **herramientas digitales generativas** (texto, imagen o audio) que producen contenido a partir de instrucciones sencillas, identificando su aplicaci贸n en actividades cotidianas de forma 茅tica y segura."
                        },
                        {
                            saber: "Desaf铆os de la IA",
                            indicador: "Reconoce **desaf铆os de la inteligencia artificial** relacionados con la protecci贸n de la informaci贸n personal sensible, cuando se realizan actividades con herramientas digitales."
                        },
                        {
                            saber: "Fundamentos de la IA",
                            indicador: "Identifica los **fundamentos de la inteligencia artificial**, reconociendo c贸mo aprende, toma decisiones y se diferencia de otros sistemas automatizados en contextos cotidianos."
                        }
                    ]
                },
                modulo2: {
                    apropiacion: [
                        {
                            saber: "Herramientas de creaci贸n multimedia (editor gr谩fico)",
                            indicador: "Aplica **herramientas de creaci贸n de contenido multimedia**, como el editor gr谩fico, utilizando funciones b谩sicas de creaci贸n, edici贸n y guardado de im谩genes en la elaboraci贸n de productos digitales."
                        },
                        {
                            saber: "Navegador",
                            indicador: "Utiliza **navegadores** y **buscadores** web en la b煤squeda de informaci贸n en internet siguiendo una consigna dada."
                        },
                        {
                            saber: "Buscador",
                            indicador: "Utiliza **navegadores** y **buscadores** web en la b煤squeda de informaci贸n en internet siguiendo una consigna dada."
                        },
                        {
                            saber: "Internet",
                            indicador: "Identifica dispositivos que se conectan a **internet** describiendo sus funciones b谩sicas en el contexto de situaciones cotidianas o escolares."
                        },
                        {
                            saber: "Netiqueta",
                            indicador: "Aplica normas de **netiqueta** durante la interacci贸n en entornos digitales, reconociendo el tono apropiado, la cortes铆a y el respeto hacia otros usuarios en actividades de comunicaci贸n sincr贸nica y asincr贸nica."
                        },
                        {
                            saber: "Comunicaci贸n y colaboraci贸n sincr贸nica/asincr贸nica (chat)",
                            indicador: "Identifica el chat como una herramienta de **comunicaci贸n y colaboraci贸n sincr贸nica y asincr贸nica**, reconociendo sus caracter铆sticas y su uso en actividades digitales guiadas."
                        },
                        {
                            saber: "Huella digital",
                            indicador: "Identifica los usos e implicaciones de la **huella digital**, reconociendo c贸mo las acciones realizadas en entornos digitales dejan rastros permanentes relacionados con la privacidad y reputaci贸n en l铆nea."
                        },
                        {
                            saber: "Contrase帽as seguras",
                            indicador: "Identifica qu茅 es una **contrase帽a segura** y sus elementos b谩sicos, reconociendo su importancia en la protecci贸n de cuentas y datos personales en entornos digitales."
                        },
                        {
                            saber: "Hackeo (phishing, redes inseguras)",
                            indicador: "Identifica qu茅 es **hackeo**, phishing y conexiones inseguras (como redes wifi p煤blicas), reconociendo situaciones comunes donde pueden presentarse riesgos para la seguridad digital."
                        },
                        {
                            saber: "Software malicioso (virus)",
                            indicador: "Identifica qu茅 es un virus inform谩tico como un tipo de **software malicioso**, reconociendo los riesgos que representan para la informaci贸n y el funcionamiento de los dispositivos."
                        },
                        {
                            saber: "Antivirus",
                            indicador: "Identifica la funci贸n y caracter铆sticas de un **antivirus**, reconociendo su importancia en la protecci贸n de dispositivos digitales utilizados."
                        },
                        {
                            saber: "Almacenamiento en la nube",
                            indicador: "Crea archivos digitales en plataformas de **almacenamiento en la nube**, configurando los permisos de uso compartido para facilitar la colaboraci贸n en actividades escolares."
                        },
                        {
                            saber: "Referencias bibliogr谩ficas",
                            indicador: "Aplica un formato b谩sico de **referencias bibliogr谩ficas** (autor, t铆tulo, fuente y a帽o) en las producciones, valorando la atribuci贸n de las fuentes utilizadas."
                        },
                        {
                            saber: "Internet de las cosas",
                            indicador: "Reconoce aplicaciones del **Internet de las Cosas (IoT)** en la cotidianidad, identificando dispositivos inteligentes conectados que interact煤an entre s铆."
                        },
                        {
                            saber: "Moneda virtual",
                            indicador: "Reconoce la utilidad e implicaciones b谩sicas de las **monedas virtuales**, identificando situaciones donde pueden usarse y los riesgos asociados a su manejo en contextos diferentes."
                        },
                        {
                            saber: "Riesgos en l铆nea (ciberacoso, suplantaci贸n)",
                            indicador: "Identifica **riesgos en l铆nea** como ciberacoso, contenido inapropiado y suplantaci贸n de identidad, aplicando protocolos de riesgo en entornos digitales."
                        },
                        {
                            saber: "Medidas de seguridad en la web (HTTPS, t茅rminos y condiciones)",
                            indicador: "Identifica **medidas de seguridad en la web**, comprendiendo la diferencia entre HTTPS y HTTP y la importancia de lectura de los t茅rminos y condiciones antes de aceptar."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Colecci贸n de datos (listas, arreglos)",
                            indicador: "Organiza datos en programaci贸n mediante el uso de listas o agrupaciones de elementos con caracter铆sticas comunes, como parte del desarrollo de una **colecci贸n de datos**."
                        },
                        {
                            saber: "Operadores l贸gicos (Y, O, NO)",
                            indicador: "Reconoce **operadores l贸gicos** de conjunci贸n (Y) y disyunci贸n (O) en la resoluci贸n de problemas, representando condiciones que deben cumplirse de manera conjunta o alternativa."
                        },
                        {
                            saber: "Procedimientos/funciones",
                            indicador: "Reconoce **procedimientos o funciones** en programaci贸n, comprendiendo c贸mo se declaran, invocan y se usan par谩metros y argumentos en la resoluci贸n de un problema."
                        },
                        {
                            saber: "Dato (booleano)",
                            indicador: "Utiliza **datos** tipo booleano en la resoluci贸n de problemas en entornos de programaci贸n, reconociendo su funci贸n en la toma de decisiones."
                        }
                    ],
                    computacion: [
                        {
                            saber: "Sensor (integrado/externo, VCC, GND)",
                            indicador: "Identifica **sensores** integrados y externos, reconociendo su funcionamiento y la forma de conectarlos a VCC y GND durante la exploraci贸n o construcci贸n de prototipos."
                        },
                        {
                            saber: "Actuador (integrado/externo)",
                            indicador: "Identifica **actuadores** integrados y externos, reconociendo c贸mo se conectan a VCC y GND mientras generan una salida f铆sica en prototipos."
                        },
                        {
                            saber: "Dom贸tica",
                            indicador: "Identifica usos y aplicaciones de la **dom贸tica**, reconociendo c贸mo la automatizaci贸n mejora la comodidad y eficiencia en entornos cotidianos."
                        }
                    ],
                    ciencia: [
                        {
                            saber: "Dato (num茅rico, texto, ubicaci贸n, im谩genes)",
                            indicador: "Identifica el **dato** de tipo num茅rico y de texto en situaciones cotidianas, a partir del registro de informaci贸n que evidencie su utilidad."
                        },
                        {
                            saber: "Recolecci贸n de datos (t茅cnicas)",
                            indicador: "Reconoce **t茅cnicas de recolecci贸n** de datos seg煤n el tipo de informaci贸n que se desea obtener en situaciones cotidianas."
                        },
                        {
                            saber: "Almacenamiento de datos",
                            indicador: "Identifica formas de **almacenamiento de datos**, reconociendo c贸mo se utilizan archivos locales y hojas de c谩lculo en la organizaci贸n de informaci贸n relevante en contextos cotidianos."
                        },
                        {
                            saber: "Visualizaci贸n de datos (gr谩ficos, tablas)",
                            indicador: "Identifica la **visualizaci贸n de datos** mediante formas de representaci贸n como gr谩ficos o tablas cuando se observan ejemplos en situaciones cotidianas."
                        },
                        {
                            saber: "Estrategias para presentar datos (tablas)",
                            indicador: "Reconoce las tablas como una **estrategia para presentar datos** organizadamente, a partir de informaci贸n recolectada en situaciones cotidianas."
                        },
                        {
                            saber: "Fundamentos de la IA",
                            indicador: "Identifica los **fundamentos de la inteligencia artificial**, reconociendo c贸mo aprende, toma decisiones y se diferencia de otros sistemas automatizados."
                        },
                        {
                            saber: "Herramientas generativas",
                            indicador: "Reconoce **herramientas digitales generativas** que producen contenido a partir de instrucciones sencillas."
                        }
                    ]
                }
            },
        
            // ========== III CICLO (S茅timo, Octavo, Noveno) ==========
            III: {
                modulo1: {
                    apropiacion: [
                        {
                            saber: "Computadora (reglas b谩sicas de uso)",
                            indicador: "Aplica reglas b谩sicas y responsabilidades durante el uso de una **computadora**, contribuyendo al cuidado, seguridad y prolongaci贸n de su vida 煤til."
                        },
                        {
                            saber: "Hardware (componentes, perif茅ricos, tipos de computadoras)",
                            indicador: "Clasifica tipos de **computadoras** y sus componentes principales de **hardware**, identificando funciones de perif茅ricos comunes al interactuar con dispositivos digitales."
                        },
                        {
                            saber: "Software (tipos, funciones)",
                            indicador: "Distingue los tipos de **software** relacion谩ndolos con sus funciones y usos en tareas cotidianas."
                        },
                        {
                            saber: "Redes de comunicaci贸n (m贸dem, router, puntos de acceso)",
                            indicador: "Identifica tipos de **redes de comunicaci贸n** y sus dispositivos principales (m贸dem, router y puntos de acceso), explicando su funcionamiento y principios de comunicaci贸n durante la conexi贸n a Internet en contextos cotidianos."
                        },
                        {
                            saber: "Sistema operativo (categor铆as, papelera)",
                            indicador: "Identifica las categor铆as de los **sistemas operativos** (escritorio y dispositivos m贸viles), describiendo su funci贸n b谩sica y el uso de la papelera como herramienta que elimina y/o recupera archivos."
                        },
                        {
                            saber: "Gesti贸n de archivos (propiedades: tama帽o, tipo, extensi贸n)",
                            indicador: "Aplica las propiedades (tama帽o, tipo y extensi贸n) en la **gesti贸n de archivos** para compartir informaci贸n en diferentes entornos digitales."
                        },
                        {
                            saber: "Herramientas de creaci贸n multimedia (editor de gr谩ficos)",
                            indicador: "Dise帽a productos visuales con **herramientas de creaci贸n multimedia** utilizando editores gr谩ficos, aplicando principios b谩sicos de dise帽os y formatos adecuados seg煤n la calidad requerida."
                        },
                        {
                            saber: "Conexi贸n entre dispositivos (IP)",
                            indicador: "Explica c贸mo las direcciones IP permiten la **conexi贸n entre dispositivos** y su comunicaci贸n dentro de una red local o en internet, comprendiendo su funci贸n en situaciones cotidianas."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Entorno de programaci贸n textual o por bloques",
                            indicador: "Reconoce un **entorno de programaci贸n textual o bloques**, identificando sus funciones para aplicarlos en la resoluci贸n de ejercicios."
                        },
                        {
                            saber: "L贸gica de programaci贸n (proposiciones, conectores l贸gicos, tablas de verdad)",
                            indicador: "Identifica la **l贸gica de programaci贸n** con el uso de proposiciones y conectores l贸gicos (AND, OR, NOT), reconociendo su uso en tablas de verdad para la evaluaci贸n de expresiones l贸gicas."
                        },
                        {
                            saber: "Algoritmo (estructura entrada-proceso-salida, caracter铆sticas)",
                            indicador: "Reconoce el **algoritmo** identificando su estructura (entrada, proceso, salida) y aplicando sus caracter铆sticas (preciso, finito, definido) como una representaci贸n clara y ordenada."
                        },
                        {
                            saber: "Dato (tipos, almacenamiento)",
                            indicador: "Identifica tipos de **dato** y formas de almacenamiento, aplic谩ndolos en la creaci贸n de algoritmos para resolver desaf铆os programados."
                        },
                        {
                            saber: "Variable (declaraci贸n, asignaci贸n)",
                            indicador: "Identifica tipos de **variable**, aplicando su gesti贸n mediante declaraciones y asignaciones en un entorno de programaci贸n."
                        },
                        {
                            saber: "Estructuras condicionales",
                            indicador: "Aplica **estructuras condicionales** en un entorno de programaci贸n para la resoluci贸n de desaf铆os que requieran la toma de decisiones l贸gicas."
                        },
                        {
                            saber: "Estructuras repetitivas",
                            indicador: "Aplica **estructuras repetitivas** en un entorno de programaci贸n para resolver desaf铆os que requieren la ejecuci贸n c铆clica de instrucciones."
                        },
                        {
                            saber: "Operadores relacionales",
                            indicador: "Aplica **operadores relacionales** para realizar comparaciones dentro de ejercicios de programaci贸n."
                        },
                        {
                            saber: "Operadores aritm茅ticos",
                            indicador: "Aplica **operadores aritm茅ticos** (suma, resta, multiplicaci贸n y divisi贸n) para resolver c谩lculos dentro de ejercicios de programaci贸n."
                        },
                        {
                            saber: "Operadores l贸gicos",
                            indicador: "Aplica **operadores l贸gicos** (Y, O, NO) en la resoluci贸n de desaf铆os de programaci贸n que impliquen decisiones."
                        },
                        {
                            saber: "Evento",
                            indicador: "Aplica un **evento** como acci贸n que se detona mediante una causa y un efecto al resolver desaf铆os programados."
                        },
                        {
                            saber: "Procedimientos/funciones",
                            indicador: "Aplica **procedimientos y/o funciones** como estructura modular, a trav茅s de su declaraci贸n e invocaci贸n, haciendo uso de par谩metros y argumentos durante la soluci贸n de desaf铆os programados."
                        }
                    ],
                    computacion: [
                        {
                            saber: "Robot (tipos, componentes: cuerpo, sistema sensorial, control)",
                            indicador: "Reconoce qu茅 es un **robot**, sus tipos y componentes (cuerpo, sistema sensorial y sistema de control), diferenci谩ndolo de otros dispositivos no rob贸ticos."
                        },
                        {
                            saber: "Rob贸tica (diferencia con computaci贸n f铆sica)",
                            indicador: "Diferencia la **computaci贸n f铆sica** con la **rob贸tica**, identificando c贸mo los sensores, actuadores y sistemas de control se integran en mecanismos rob贸ticos."
                        },
                        {
                            saber: "Mec谩nica aplicada a la rob贸tica (estructura, estabilidad)",
                            indicador: "Emplea principios de la **mec谩nica aplicados a la rob贸tica**, como la estructura y la estabilidad, en el dise帽o de mecanismos rob贸ticos."
                        },
                        {
                            saber: "Mecanismos (transmisi贸n y transformaci贸n de movimiento)",
                            indicador: "Reconoce los tipos de **mecanismos**, identificando su funci贸n principal en la transmisi贸n y transformaci贸n del movimiento mediante la simulaci贸n de prototipos."
                        },
                        {
                            saber: "Circuito el茅ctrico (componentes, carga, voltaje, corriente, resistencias)",
                            indicador: "Identifica los componentes de un **circuito el茅ctrico** y su funcionamiento, comprendiendo la relaci贸n entre carga el茅ctrica, voltaje, corriente, resistencias e interruptores mediante la simulaci贸n de prototipos."
                        },
                        {
                            saber: "Fundamentos de electr贸nica (pines, se帽al anal贸gica/digital)",
                            indicador: "Identifica **fundamentos de electr贸nica**, reconociendo la funci贸n de pines de entrada y salida, as铆 como la diferencia entre se帽ales anal贸gicas y digitales durante la simulaci贸n o construcci贸n de circuitos."
                        },
                        {
                            saber: "Microcontrolador (pines digitales/anal贸gicos, comunicaci贸n programa-tarjeta)",
                            indicador: "Comprende los componentes b谩sicos de un **microcontrolador**, aplicando la funci贸n de pines digitales y anal贸gicos y c贸mo se establece la comunicaci贸n entre el programa y la tarjeta microcontroladora durante la exploraci贸n o simulaci贸n de prototipos."
                        }
                    ],
                    ciencia: [
                        {
                            saber: "Fundamentos de la IA",
                            indicador: "Reconoce los **fundamentos de la inteligencia artificial**, identificando el concepto y sus aplicaciones en el contexto personal y laboral."
                        },
                        {
                            saber: "Asistentes virtuales",
                            indicador: "Identifica qu茅 son los **asistentes virtuales** basados en inteligencia artificial, reconociendo su utilidad al interactuar con herramientas digitales, bajo criterios de seguridad y responsabilidad."
                        },
                        {
                            saber: "Dato (tipos en redes sociales, historiales, localizaci贸n)",
                            indicador: "Identifica tipos de **dato** (num茅ricos, de texto, de ubicaci贸n y de im谩genes), analizando c贸mo influye en decisiones y/o comportamientos en redes sociales, historiales de navegaci贸n o sistemas de localizaci贸n."
                        }
                    ]
                },
                modulo2: {
                    apropiacion: [
                        {
                            saber: "Herramienta de productividad (procesador de texto, editor presentaciones)",
                            indicador: "Aplica la **herramienta de productividad** c贸mo procesador de texto y/o editor de presentaci贸n para crear productos comunicativos adecuados al prop贸sito y contexto de uso."
                        },
                        {
                            saber: "Internet (funcionamiento, ISP, conectividad)",
                            indicador: "Reconoce el funcionamiento de **Internet**, comprendiendo la conectividad entre dispositivos y el rol de los proveedores de servicio (ISP) en el acceso a la red."
                        },
                        {
                            saber: "Navegador (pesta帽as, seguridad)",
                            indicador: "Utiliza el **navegador** y el **buscador** web para acceder y localizar informaci贸n en l铆nea, gestionando pesta帽as y aplicando estrategias b谩sicas de b煤squeda con principios de seguridad digital."
                        },
                        {
                            saber: "Buscador (estrategias b煤squeda, filtros, dominios confiables)",
                            indicador: "Utiliza el **navegador** y el **buscador** web para acceder y localizar informaci贸n en l铆nea, gestionando pesta帽as y aplicando estrategias b谩sicas de b煤squeda con principios de seguridad digital."
                        },
                        {
                            saber: "Netiqueta",
                            indicador: "Utiliza herramientas de comunicaci贸n y colaboraci贸n sincr贸nica y asincr贸nica (correo electr贸nico, chats, videollamadas), aplicando normas de **netiqueta** en la redacci贸n, interacci贸n y participaci贸n respetuosa en entornos digitales."
                        },
                        {
                            saber: "Comunicaci贸n y colaboraci贸n sincr贸nica/asincr贸nica (correo, chat, videollamada)",
                            indicador: "Utiliza herramientas de **comunicaci贸n y colaboraci贸n sincr贸nica y asincr贸nica** (correo electr贸nico, chats, videollamadas), aplicando normas de netiqueta en la redacci贸n, interacci贸n y participaci贸n respetuosa en entornos digitales."
                        },
                        {
                            saber: "Almacenamiento en la nube (guardar, organizar, compartir)",
                            indicador: "Utiliza el **almacenamiento en la nube** para guardar, organizar y compartir archivos digitales, reconociendo sus ventajas en el acceso y colaboraci贸n desde diferentes dispositivos."
                        },
                        {
                            saber: "Referencias bibliogr谩ficas (autor, t铆tulo, fuente, fecha)",
                            indicador: "Aplica formatos b谩sicos de **referencias bibliogr谩ficas** en producciones digitales o escritas, integrando datos como autor, t铆tulo, fuente y fecha, reconociendo la procedencia de la informaci贸n."
                        },
                        {
                            saber: "Criptomonedas (utilidad, implicaciones)",
                            indicador: "Reconoce la utilidad e implicaciones del uso de **criptomonedas** en entornos digitales cotidianos como juegos, plataformas virtuales o pagos en l铆nea."
                        },
                        {
                            saber: "Contrase帽as seguras (generadores, doble factor)",
                            indicador: "Crea **contrase帽as seguras** con generadores aleatorios, comprendiendo sus caracter铆sticas e importancia para la protecci贸n de la informaci贸n personal en entornos digitales."
                        },
                        {
                            saber: "Software malicioso (caracter铆sticas, riesgos)",
                            indicador: "Reconoce las caracter铆sticas del **software malicioso**, analizando los riesgos asociados al uso de sitios web o aplicaciones potencialmente peligrosas en actividades pr谩cticas."
                        },
                        {
                            saber: "Riesgos en l铆nea (suplantaci贸n, grooming, phishing, noticias falsas)",
                            indicador: "Identifica **riesgos en l铆nea** como la suplantaci贸n de identidad, grooming, phishing y noticias falsas, analizando acciones b谩sicas de prevenci贸n en sus interacciones digitales."
                        },
                        {
                            saber: "Plataformas de creaci贸n de contenido",
                            indicador: "Utiliza **plataformas de creaci贸n de contenido** digital en la elaboraci贸n de infograf铆as, diagramas o presentaciones, organizando la informaci贸n de forma visual y coherente seg煤n el prop贸sito comunicativo."
                        },
                        {
                            saber: "Licencia digital",
                            indicador: "Reconoce la **licencia digital** en el uso de contenido en l铆nea, valorando sus alcances y limitaciones."
                        },
                        {
                            saber: "Hackeo (tipos de hacker, implicaciones legales)",
                            indicador: "Reconoce el **hackeo** como una amenaza digital, diferenciando tipos de hacker, comprendiendo sus implicaciones legales y valorando medidas para su prevenci贸n."
                        },
                        {
                            saber: "Antivirus",
                            indicador: "Aplica medidas de protecci贸n digital mediante el reconocimiento de tipos de **software malicioso** y el uso adecuado del **antivirus**, valorando su actualizaci贸n como parte de una ciudadan铆a digital responsable."
                        },
                        {
                            saber: "Redes de comunicaci贸n (arquitectura, protocolos HTTP/HTTPS/TCP/IP)",
                            indicador: "Reconoce las **redes de comunicaci贸n** a partir de su arquitectura, protocolos (como HTTP, HTTPS y TCP/IP) e interfaces, comprendiendo su funcionamiento durante el intercambio de datos."
                        },
                        {
                            saber: "Sistema operativo (optimizaci贸n: memoria, desfragmentar, cach茅)",
                            indicador: "Aplica t茅cnicas de optimizaci贸n del **sistema operativo**, identificando c贸mo gestionar memoria, desfragmentar discos, limpiar cach茅 y actualizar el sistema para el mejoramiento del desempe帽o de dispositivos."
                        },
                        {
                            saber: "Herramienta de productividad (gestor de bases de datos)",
                            indicador: "Utiliza un **gestor de bases de datos** como herramienta de productividad para la creaci贸n de tablas, estableciendo relaciones entre ellas y realizando consultas en la organizaci贸n de la informaci贸n."
                        },
                        {
                            saber: "Herramientas de creaci贸n multimedia (modelado 3D)",
                            indicador: "Utiliza **herramientas de creaci贸n de contenido multimedia** para el modelado 3D, aplicando funciones b谩sicas de creaci贸n y edici贸n en productos digitales."
                        },
                        {
                            saber: "Plataformas de creaci贸n de contenido (encuestas, formularios)",
                            indicador: "Crea encuestas o formularios mediante **plataformas de creaci贸n de contenido**, ajustando su formato y estructura al prop贸sito de recolecci贸n o evaluaci贸n de datos."
                        },
                        {
                            saber: "Derechos de autor y licenciamiento",
                            indicador: "Reconoce la importancia de los **derechos de autor y el licenciamiento**, aplicando buenas pr谩cticas de uso 茅tico y legal de contenidos digitales."
                        },
                        {
                            saber: "Huella digital",
                            indicador: "Analiza la utilidad e implicaciones de la **huella digital**, valorando c贸mo las acciones en l铆nea afectan la identidad, reputaci贸n y seguridad personal en entornos digitales."
                        },
                        {
                            saber: "Riesgos en l铆nea (acceso inapropiado, ciberadicci贸n, ciberacoso, sexting)",
                            indicador: "Analiza **riesgos en l铆nea** (acceso a informaci贸n inapropiada, ciberadicci贸n, ciberacoso y sexting), valorando estrategias de prevenci贸n y autocuidado en sus interacciones digitales."
                        }
                    ],
                    programacion: [
                        {
                            saber: "Colecci贸n de datos (listas, arreglos)",
                            indicador: "Gestiona una **colecci贸n de datos** como listas o arreglos mediante su creaci贸n, recorrido y modificaci贸n durante la soluci贸n de ejercicios programados."
                        },
                        {
                            saber: "Operadores l贸gicos (Y, O, NO)",
                            indicador: "Aplica **operadores l贸gicos** (Y, O, NO) en la resoluci贸n de desaf铆os de programaci贸n que impliquen decisiones."
                        },
                        {
                            saber: "Procedimientos/funciones (declaraci贸n, invocaci贸n, par谩metros, argumentos)",
                            indicador: "Aplica **procedimientos y/o funciones** como estructura modular, a trav茅s de su declaraci贸n e invocaci贸n, haciendo uso de par谩metros y argumentos durante la soluci贸n de desaf铆os programados."
                        }
                    ],
                    computacion: [
                        {
                            saber: "Sensor (integrado/externo, conexi贸n VCC/GND)",
                            indicador: "Utiliza un **sensor** integrado y/o externo, comprendiendo su funci贸n y su correcta conexi贸n a VCC y GND durante la construcci贸n o simulaci贸n de un prototipo."
                        },
                        {
                            saber: "Actuador (integrado/externo)",
                            indicador: "Utiliza un **actuador** integrado y/o externo, comprendiendo su funci贸n y c贸mo se conecta correctamente a VCC y GND durante la construcci贸n o simulaci贸n de un prototipo."
                        },
                        {
                            saber: "Dom贸tica (usos, aplicaciones, beneficios)",
                            indicador: "Analiza los usos, aplicaciones y beneficios de la **dom贸tica**, mediante la creaci贸n o simulaci贸n de un prototipo que responda a necesidades reales en un entorno cotidiano."
                        },
                        {
                            saber: "Movimiento en mecanismos (entrada/salida)",
                            indicador: "Identifica el **movimiento en mecanismos** rob贸ticos, diferenciando el movimiento de entrada y salida, a partir de la observaci贸n y an谩lisis de simulaciones o prototipos b谩sicos que integren sensores y actuadores."
                        },
                        {
                            saber: "Microcontrolador (pines, VCC/GND, comunicaci贸n sensores/actuadores)",
                            indicador: "Aplica las funciones de un **microcontrolador**, utilizando pines digitales y anal贸gicos, conexi贸n a VCC y GND y comunicaci贸n con sensores y actuadores durante la simulaci贸n o construcci贸n de prototipos."
                        },
                        {
                            saber: "Prototipos (dise帽o e integraci贸n de sensores, actuadores)",
                            indicador: "Construye **prototipos** que integren sensores, actuadores y un microcontrolador, a partir de una necesidad identificada en su contexto."
                        }
                    ],
                    ciencia: [
                        {
                            saber: "Dato (organizaci贸n, conservaci贸n, seguridad, responsabilidad)",
                            indicador: "Reconoce la importancia de la organizaci贸n y conservaci贸n del **dato**, aplicando criterios de seguridad y responsabilidad en la gesti贸n de informaci贸n."
                        },
                        {
                            saber: "Recolecci贸n de datos (registros escolares/personales)",
                            indicador: "Aplica **t茅cnicas de recolecci贸n de datos** mediante registros escolares y personales (gastos, notas, actividades deportivas o datos m茅dicos simples), organizando la informaci贸n en tablas."
                        },
                        {
                            saber: "Almacenamiento de datos (ciclo de vida: creaci贸n, uso, conservaci贸n, eliminaci贸n)",
                            indicador: "Reconoce el ciclo de vida del dato en el **almacenamiento de datos**, identificando las etapas de creaci贸n, uso, conservaci贸n y eliminaci贸n responsable de la informaci贸n en contextos educativos o personales."
                        },
                        {
                            saber: "Visualizaci贸n de datos",
                            indicador: "Aplica t茅cnicas de **visualizaci贸n de datos**, creando representaciones gr谩ficas simples como gr谩ficos pict贸ricos o de barras para comunicar informaci贸n."
                        },
                        {
                            saber: "Estrategias para presentar datos",
                            indicador: "Crea gr谩ficos de barras o lineales a partir de datos, aplicando **estrategias para representar datos** en la comunicaci贸n de informaci贸n relevante."
                        },
                        {
                            saber: "Fundamentos de la IA (funcionamiento, diferencia con otros sistemas)",
                            indicador: "Reconoce los **fundamentos de la inteligencia artificial**, identificando c贸mo funciona y se diferencia de otros sistemas digitales."
                        },
                        {
                            saber: "Herramientas generativas (texto, imagen, audio, seguridad, responsabilidad)",
                            indicador: "Utiliza **herramientas generativas** basadas en inteligencia artificial, aplicando funciones para la creaci贸n o modificaci贸n de contenido digital (texto, imagen o audio) respetando criterios de seguridad y responsabilidad."
                        },
                        {
                            saber: "Desaf铆os de la IA (sesgos, manipulaci贸n, dependencia, privacidad)",
                            indicador: "Reconoce los **desaf铆os de la inteligencia artificial**, identificando riesgos como sesgos, manipulaci贸n de informaci贸n, dependencia tecnol贸gica y privacidad de datos, reflexionando sobre su impacto en la vida laboral, personal y social."
                        }
                    ]
                }
            }
        };

        // Verbos Bloom
        const verbosBloom = {
            recordar: ['identifica', 'reconoce', 'enumera'],
            comprender: ['explica', 'ejemplifica', 'clasifica'],
            aplicar: ['utiliza', 'resuelve', 'programa'],
            analizar: ['compara', 'organiza', 'diferencia'],
            evaluar: ['justifica', 'argumenta', 'valida'],
            crear: ['dise帽a', 'construye', 'propone']
        };

        // Variables globales
        let saberesSeleccionados = [];

        // Elementos DOM
        const cicloSelect = document.getElementById('cicloSelect');
        const nivelSelect = document.getElementById('nivelSelect');
        const modulo1Div = document.getElementById('modulo1Container');
        const modulo2Div = document.getElementById('modulo2Container');
        const contadorSel = document.getElementById('contadorSel');
        const listaSel = document.getElementById('saberesSeleccionadosList');
        const saberesYoutube = document.getElementById('saberesParaYoutube');
        const youtubeResultados = document.getElementById('youtubeResultados');
        const youtubeInput = document.getElementById('youtubeSearch');
        const buscarYoutube = document.getElementById('buscarYoutubeBtn');
        const googleModal = document.getElementById('googleModal');
        const googleSaberes = document.getElementById('googleSaberes');
        const googleConsulta = document.getElementById('googleConsulta');
        const googleLink = document.getElementById('googleLink');
        const recentList = document.getElementById('recentList');
        const bitacoraTexto = document.getElementById('bitacoraTexto');
        const duaContent = document.getElementById('duaContent');

        // ========== FUNCIONES PRINCIPALES ==========
        function renderNiveles() {
            const niveles = { preescolar: ['MI', 'Transici贸n'], I: ['1掳','2掳','3掳'], II: ['4掳','5掳','6掳'], III: ['7掳','8掳','9掳'] };
            nivelSelect.innerHTML = niveles[cicloSelect.value].map(n => `<option>${n}</option>`).join('');
            renderSaberes();
        }

        function renderSaberes() {
            const ciclo = cicloSelect.value;
            const data = saberesDB[ciclo] || saberesDB.preescolar;
            renderModulo(modulo1Div, data.modulo1, 'mod1');
            renderModulo(modulo2Div, data.modulo2, 'mod2');
            saberesSeleccionados = [];
            actualizarSeleccion();
        }

        function renderModulo(container, modData, modId) {
            let html = '';
            for (let [area, saberes] of Object.entries(modData)) {
                if (saberes.length) {
                    html += `<div class="mb-4"><div class="font-semibold text-xs text-gray-500 mb-2 uppercase">${area}</div>`;
                    saberes.forEach(s => {
                        html += `<button data-mod="${modId}" data-area="${area}" data-saber="${s.saber}" data-indicador="${s.indicador}" class="saber-chip text-xs">${s.saber}</button>`;
                    });
                    html += `</div>`;
                }
            }
            container.innerHTML = html;
            container.querySelectorAll('.saber-chip').forEach(btn => {
                btn.addEventListener('click', () => {
                    const saber = btn.dataset.saber;
                    const idx = saberesSeleccionados.findIndex(s => s.saber === saber);
                    if (idx >= 0) {
                        saberesSeleccionados.splice(idx, 1);
                        btn.classList.remove('selected', 'bg-[#09b7ae]', 'text-white');
                    } else {
                        if (saberesSeleccionados.length >= 2) return alert('M谩ximo 2 saberes');
                        saberesSeleccionados.push({ 
                            saber: btn.dataset.saber, 
                            indicador: btn.dataset.indicador,
                            area: btn.dataset.area, 
                            modulo: btn.dataset.mod 
                        });
                        btn.classList.add('selected', 'bg-[#09b7ae]', 'text-white');
                    }
                    actualizarSeleccion();
                    actualizarSaberesYoutube();
                });
            });
        }

        function actualizarSeleccion() {
            contadorSel.innerText = saberesSeleccionados.length;
            listaSel.innerHTML = saberesSeleccionados.map(s => 
                `<span class="bg-white/20 px-3 py-1.5 rounded-full text-sm">${s.saber}</span>`
            ).join('');
            guardarHistorial();
        }

        function actualizarSaberesYoutube() {
            saberesYoutube.innerHTML = saberesSeleccionados.length 
                ? saberesSeleccionados.map(s => `<span class="bg-blue-100 text-[#014d6b] px-3 py-1 rounded-full text-xs">${s.saber}</span>`).join('')
                : '<span class="text-gray-400 text-sm">Ning煤n saber seleccionado</span>';
        }

        // ========== GOOGLE MODO AI (NUEVO) ==========
        document.getElementById('abrirModalBtn').addEventListener('click', () => {
            if (!saberesSeleccionados.length) {
                alert('Selecciona al menos un saber');
                return;
            }

            googleSaberes.innerHTML = saberesSeleccionados.map(s => 
                `<span class="bg-[#09b7ae] text-white px-3 py-1 rounded-full text-sm">${s.saber}</span>`
            ).join('');

            const consulta = `Integra en una sola actividad: ${saberesSeleccionados.map(s => s.saber).join(' y ')}`;
            googleConsulta.textContent = consulta;
            
            const busqueda = `actividad educativa integrada ${saberesSeleccionados.map(s => s.saber).join(' ')} para docentes`;
            googleLink.href = `https://www.google.com/search?q=${encodeURIComponent(busqueda)}&udm=2`;
            
            googleModal.classList.remove('hidden');
            googleModal.classList.add('flex');
        });

        document.getElementById('cerrarGoogleModal').addEventListener('click', () => {
            googleModal.classList.add('hidden');
            googleModal.classList.remove('flex');
        });

        document.getElementById('cancelarGoogle').addEventListener('click', () => {
            googleModal.classList.add('hidden');
            googleModal.classList.remove('flex');
        });

        googleModal.addEventListener('click', (e) => {
            if (e.target === googleModal) {
                googleModal.classList.add('hidden');
                googleModal.classList.remove('flex');
            }
        });

        // ========== YOUTUBE DINMICO ==========
        function buscarEnYouTube() {
            let query = youtubeInput.value.trim();
            if (!query && saberesSeleccionados.length) {
                query = saberesSeleccionados.map(s => s.saber).join(' ');
            }
            if (!query) {
                alert('Escribe un t茅rmino o selecciona saberes');
                return;
            }

            youtubeResultados.innerHTML = '<p class="text-center py-4"><i class="fas fa-spinner fa-spin"></i> Buscando...</p>';

            // Simulaci贸n de resultados (modo demo)
            setTimeout(() => {
                const resultados = [
                    { titulo: `Video educativo sobre ${saberesSeleccionados[0]?.saber || query}`, canal: 'EducaTIC', id: 'dU1xS07N-FA', duracion: '3:45' },
                    { titulo: `Aprende ${saberesSeleccionados[0]?.saber || query} jugando`, canal: 'Aprendizaje divertido', id: 'cDA3_5982h8', duracion: '4:02' },
                    { titulo: `${saberesSeleccionados[0]?.saber || query} para ni帽os`, canal: 'Kids Education', id: 'x7X9w_Gj1zI', duracion: '3:30' }
                ];

                youtubeResultados.innerHTML = resultados.map(v => `
                    <div class="video-result cursor-pointer" onclick="window.open('https://youtube.com/watch?v=${v.id}','_blank')">
                        <div class="flex gap-3">
                            <div class="w-20 h-16 bg-gray-200 rounded flex items-center justify-center"><i class="fab fa-youtube text-red-600 text-2xl"></i></div>
                            <div>
                                <p class="font-medium">${v.titulo}</p>
                                <p class="text-xs text-gray-500">${v.canal} 路 ${v.duracion}</p>
                            </div>
                        </div>
                    </div>
                `).join('');
            }, 1000);
        }

        buscarYoutube.addEventListener('click', buscarEnYouTube);

        // ========== DUA DINMICO ==========
        function actualizarDUA() {
            if (!saberesSeleccionados.length) {
                duaContent.innerHTML = `
                    <div class="bg-white/10 p-4 rounded-xl">
                        <p class="text-center">Selecciona saberes para ver recomendaciones DUA personalizadas</p>
                    </div>
                `;
                return;
            }

            const saberes = saberesSeleccionados.map(s => s.saber);
            duaContent.innerHTML = `
                <div class="bg-white/10 p-4 rounded-xl">
                    <p class="font-bold mb-2"> Para ${saberes.join(' y ')}:</p>
                    <ul class="space-y-2 text-sm">
                        <li>锔 <span class="font-medium">Visual:</span> Usar im谩genes, diagramas y videos con descripciones</li>
                        <li> <span class="font-medium">Motriz:</span> Actividades con materiales manipulables de gran tama帽o</li>
                        <li> <span class="font-medium">Cognitiva:</span> Secuencias cortas, repetici贸n y apoyos visuales</li>
                        <li> <span class="font-medium">Auditiva:</span> Instrucciones escritas y subt铆tulos</li>
                    </ul>
                </div>
                <div class="bg-white/10 p-4 rounded-xl">
                    <p class="font-bold mb-2"> Actividad DUA sugerida:</p>
                    <p class="text-sm">"Juego de roles con tarjetas pictogr谩ficas donde los estudiantes representen los conceptos de ${saberes.join(' y ')}"</p>
                </div>
            `;
        }

        document.getElementById('generarDUABtn').addEventListener('click', actualizarDUA);

        // ========== HISTORIAL (localStorage) ==========
        function guardarHistorial() {
            if (!saberesSeleccionados.length) return;
            const nombres = saberesSeleccionados.map(s => s.saber).join(' + ');
            const item = `${nombres} (${new Date().toLocaleTimeString()})`;
            let recent = JSON.parse(localStorage.getItem('recentSearches') || '[]');
            recent.unshift(item);
            if (recent.length > 10) recent.pop();
            localStorage.setItem('recentSearches', JSON.stringify(recent));
            mostrarRecientes();
            actualizarEstadisticas();
        }

        function mostrarRecientes() {
            const recent = JSON.parse(localStorage.getItem('recentSearches') || '[]');
            recentList.innerHTML = recent.length 
                ? recent.map(r => `<li class="bg-gray-50 p-2 rounded-lg">${r}</li>`).join('')
                : '<li class="text-gray-400">No hay b煤squedas recientes</li>';
        }

        document.getElementById('clearRecentBtn').addEventListener('click', () => {
            localStorage.removeItem('recentSearches');
            mostrarRecientes();
        });

        // ========== BITCORA ==========
        document.getElementById('guardarBitacora').addEventListener('click', () => {
            localStorage.setItem('bitacora', bitacoraTexto.value);
            alert(' Bit谩cora guardada');
        });

        document.getElementById('exportarBitacora').addEventListener('click', () => {
            const texto = bitacoraTexto.value;
            const blob = new Blob([texto], { type: 'text/plain' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = `bitacora_${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
        });

        // Cargar bit谩cora guardada
        const savedBitacora = localStorage.getItem('bitacora');
        if (savedBitacora) bitacoraTexto.value = savedBitacora;

        // ========== ESTADSTICAS ==========
        function actualizarEstadisticas() {
            const consultas = JSON.parse(localStorage.getItem('recentSearches') || '[]').length;
            document.getElementById('statConsultas').textContent = consultas;
            document.getElementById('ultimaVisita').textContent = localStorage.getItem('ultimaVisita') || 'Hoy';
        }

        localStorage.setItem('ultimaVisita', new Date().toLocaleDateString());
        actualizarEstadisticas();

        // ========== GENERAR PROMPT ==========
        document.getElementById('generarPromptBtn').addEventListener('click', () => {
            if (!saberesSeleccionados.length) {
                document.getElementById('promptSalida').value = 'Selecciona al menos un saber';
                return;
            }
            const prompt = `Dise帽a una mediaci贸n pedag贸gica para ${cicloSelect.value} sobre ${saberesSeleccionados.map(s => s.saber).join(' y ')}.
Incluye:
1. Actividad desconectada
2. Actividad con dispositivos
3. Metodolog铆a activa
4. Evaluaci贸n (60/10/20)
5. Variante DUA`;
            document.getElementById('promptSalida').value = prompt;
        });

        document.getElementById('copiarPrompt').addEventListener('click', () => {
            const prompt = document.getElementById('promptSalida');
            prompt.select();
            document.execCommand('copy');
            alert(' Prompt copiado');
        });

        // ========== TABS ==========
        function mostrarTab(tab) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.getElementById(`tab${tab}`).classList.remove('hidden');
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`tab${tab}Btn`).classList.add('active');
        }

        document.getElementById('tabPlanBtn').addEventListener('click', () => mostrarTab('Plan'));
        document.getElementById('tabRecursosBtn').addEventListener('click', () => mostrarTab('Recursos'));
        document.getElementById('tabAdminBtn').addEventListener('click', () => mostrarTab('Admin'));

        // Inicializar
        renderNiveles();
        cicloSelect.addEventListener('change', renderNiveles);
        mostrarRecientes();
        actualizarSaberesYoutube();
    </script>
</body>
</html>
